[{
  "history_id" : "edy3z8wku1w",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1721364488162,
  "history_end_time" : 1721364488162,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "t9z8pg2vxxd",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1721133289762,
  "history_end_time" : 1721156176102,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "91ggv6io3og",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1720812753718,
  "history_end_time" : 1720812753718,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "63faimjrp6g",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1718636826225,
  "history_end_time" : 1718636826225,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "0u0ghdxsmmc",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1718636745271,
  "history_end_time" : 1718636745271,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "v8ce8c9e684",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1718636565077,
  "history_end_time" : 1718636565077,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "2qwl4v8ezk6",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1718211173507,
  "history_end_time" : 1718211173507,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "ip8iv0dw28j",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1717260625825,
  "history_end_time" : 1717260625825,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "o5v8gq01w4t",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1717258417375,
  "history_end_time" : 1717260624657,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "jpu52riqu5x",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1717233644374,
  "history_end_time" : 1717258424628,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "3489djhkdw8",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1717233051752,
  "history_end_time" : 1717233634227,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "7884ez93gen",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1717183214956,
  "history_end_time" : 1717233633759,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "yb3uznmfqxl",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1717182654857,
  "history_end_time" : 1717182654857,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "z8vaq24q3mw",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1716612552443,
  "history_end_time" : 1717233631797,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "x7gm8yoxbqs",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1716611582520,
  "history_end_time" : 1716612551153,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "6esdj9j9yof",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1716610207092,
  "history_end_time" : 1716611579207,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "e1zpkrayy4i",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1716606646636,
  "history_end_time" : 1716610196708,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "g8f3rj0tuvm",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1716120710344,
  "history_end_time" : 1716610159514,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "2gjm65uw6kp",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1716068762988,
  "history_end_time" : 1716076012587,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "xx2jk043p7x",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1716068608544,
  "history_end_time" : 1716068760862,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "22euprin7fj",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1714808468660,
  "history_end_time" : 1714838057259,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "7woyb5btgvw",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1714161440456,
  "history_end_time" : 1714161440456,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "2wmgqcj6y3p",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1713966604335,
  "history_end_time" : 1713966604335,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "477g8bdtiz8",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1713935811076,
  "history_end_time" : 1713935811076,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "f9pxx2kbgrk",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1712452760499,
  "history_end_time" : 1712452760499,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "njefj5jo9cd",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1712452402374,
  "history_end_time" : 1712452749957,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "3l9i052zw43",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1712445947133,
  "history_end_time" : 1712445947133,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "nox1w8bhu04",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1711723378014,
  "history_end_time" : 1711723378014,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "wcvj8aajv71",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1711722163433,
  "history_end_time" : 1711723321970,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "sby1h3dyvvj",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1711203851066,
  "history_end_time" : 1712452724072,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "6leldk5g6pr",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1711136729436,
  "history_end_time" : 1711136729436,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Skipped"
},{
  "history_id" : "s29zmkhmd8d",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1711136573087,
  "history_end_time" : 1711136662808,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "i37ug4muj4w",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1709930548087,
  "history_end_time" : 1712452725017,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "esk6cxjkqhj",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1709930050114,
  "history_end_time" : 1709930509954,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "4a314962y1m",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1709444795628,
  "history_end_time" : 1712452725794,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "deoibt15rp9",
  "history_input" : "No code saved",
  "history_output" : "Skipped",
  "history_begin_time" : 1709444438267,
  "history_end_time" : 1709444687342,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : "100001",
  "indicator" : "Stopped"
},{
  "history_id" : "5iF30fU7XimB",
  "history_input" : "# create a ML model for wildfire emission forecasting\nimport os\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n#model_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_month_202007.pkl\"\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1_weighted_one_year_2020.pkl\"\noutput_folder_name = \"output_weighted_xgboost_2020_year_model\"\n#output_folder_name = \"output_xgboost_202007\"\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # create output folder\n  output_folder_full_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n  if not os.path.exists(output_folder_full_path):\n    os.makedirs(output_folder_full_path)\n      \n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    print(f\"generating prediction for {date_str}\")\n    \n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    #print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    #print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    #print(\"y_pred_df shape: \", y_pred_df.shape)\n    #print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    #print(\"merged_df shape: \", merged_df.shape)\n    #print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n    \ndef plot_feature_importance():\n  \n    # Load the saved model\n    with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n    \n    feature_importances = loaded_model.feature_importances_\n    \n    feature_names = loaded_model.feature_names\n\n    # Create a bar plot of feature importances\n    plt.figure(figsize=(12, 6))\n    print(feature_names)\n    print(feature_importances)\n    plt.barh(feature_names, feature_importances)\n    plt.xlabel('Feature Importance')\n    plt.ylabel('Features')\n    plt.title('Feature Importance Plot')\n    file_name = os.path.basename(model_file)\n    plt.savefig(f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/importance_summary_plot_{file_name}.png')\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\n#predict(start_date, end_date)\nplot_feature_importance()\n",
  "history_output" : "training on 20200802\npreparing training data for  20200802\n20200801\n20200731\n20200730\n20200729\n20200728\n20200727\n20200726\ntraining on 20200803\npreparing training data for  20200803\n20200802\n20200801\n20200731\n20200730\n20200729\n20200728\n20200727\ntraining on 20200804\npreparing training data for  20200804\n20200803\n20200802\n20200801\n20200731\n20200730\n20200729\n20200728\ntraining on 20200805\npreparing training data for  20200805\n20200804\n20200803\n20200802\n20200801\n20200731\n20200730\n20200729\ntraining on 20200806\npreparing training data for  20200806\n20200805\n20200804\n20200803\n20200802\n20200801\n20200731\n20200730\nThe new model is saved to <_io.BufferedWriter name='/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1_weighted_one_year_2020_maxdepth_15_no_slurm.pkl'>\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 146, in <module>\n    plot_feature_importance()\n  File \"fc_model_predict.py\", line 128, in plot_feature_importance\n    feature_names = loaded_model.feature_names\nAttributeError: 'XGBRegressor' object has no attribute 'feature_names'\n",
  "history_begin_time" : 1697227622778,
  "history_end_time" : 1697227650857,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "ikrXyrwkQ46X",
  "history_input" : "# create a ML model for wildfire emission forecasting\nimport os\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n#model_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_month_202007.pkl\"\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1_weighted_one_year_2020.pkl\"\noutput_folder_name = \"output_weighted_xgboost_2020_year_model\"\n#output_folder_name = \"output_xgboost_202007\"\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # create output folder\n  output_folder_full_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n  if not os.path.exists(output_folder_full_path):\n    os.makedirs(output_folder_full_path)\n      \n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    print(f\"generating prediction for {date_str}\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    #print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    #print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    #print(\"y_pred_df shape: \", y_pred_df.shape)\n    #print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    #print(\"merged_df shape: \", merged_df.shape)\n    #print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "predicting:  20210714\nRead from original folder for current date: 20210714\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-14 00:00:00\nreading from original folder\nreading past files for 2021-07-13 00:00:00\nreading from original folder\nreading past files for 2021-07-12 00:00:00\nreading from original folder\nreading past files for 2021-07-11 00:00:00\nreading from original folder\nreading past files for 2021-07-10 00:00:00\nreading from original folder\nreading past files for 2021-07-09 00:00:00\nreading from original folder\nreading past files for 2021-07-08 00:00:00\nreading from original folder\n['Mean Absolute Error (MAE): 61.96364659834615', 'Mean Squared Error (MSE): 245909.74831654664', 'Root Mean Squared Error (RMSE): 495.8928798808737', 'R-squared (R2) Score: -344.4239334221624', 'Explained Variance Score: -339.0599478107843', 'Mean Squared Log Error (MSLE): 5.610069702757359', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 48692.28857425', 'Mean: 0.31889202218524665', 'Median: 0.0', 'Standard Deviation: 26.681672203030356', 'Minimum: 0.0', 'Maximum: 5842.833008', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210714_predicted.txt\npredicting:  20210715\nRead from original folder for current date: 20210715\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-15 00:00:00\nreading from original folder\nreading past files for 2021-07-14 00:00:00\nreading from predicted folder\nreading past files for 2021-07-13 00:00:00\nreading from original folder\nreading past files for 2021-07-12 00:00:00\nreading from original folder\nreading past files for 2021-07-11 00:00:00\nreading from original folder\nreading past files for 2021-07-10 00:00:00\nreading from original folder\nreading past files for 2021-07-09 00:00:00\nreading from original folder\n['Mean Absolute Error (MAE): 377.7226735760421', 'Mean Squared Error (MSE): 2301898.2376255635', 'Root Mean Squared Error (RMSE): 1517.2007901479499', 'R-squared (R2) Score: -913.3910380526507', 'Explained Variance Score: -856.7813786038793', 'Mean Squared Log Error (MSLE): 9.25443833456895', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 56823.97509725', 'Mean: 0.4527865538215363', 'Median: 0.0', 'Standard Deviation: 50.1739698027898', 'Minimum: 0.0', 'Maximum: 16156.818359', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210715_predicted.txt\npredicting:  20210716\nRead from original folder for current date: 20210716\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-16 00:00:00\nreading from original folder\nreading past files for 2021-07-15 00:00:00\nreading from predicted folder\nreading past files for 2021-07-14 00:00:00\nreading from predicted folder\nreading past files for 2021-07-13 00:00:00\nreading from original folder\nreading past files for 2021-07-12 00:00:00\nreading from original folder\nreading past files for 2021-07-11 00:00:00\nreading from original folder\nreading past files for 2021-07-10 00:00:00\nreading from original folder\n['Mean Absolute Error (MAE): 1235.0200428775456', 'Mean Squared Error (MSE): 15751363.787284933', 'Root Mean Squared Error (RMSE): 3968.7987839250472', 'R-squared (R2) Score: -6951.220875286626', 'Explained Variance Score: -6278.089834508006', 'Mean Squared Log Error (MSLE): 13.682354815573358', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 59046.37812775', 'Mean: 0.38597127211990223', 'Median: 0.0', 'Standard Deviation: 47.59909379644986', 'Minimum: 0.0', 'Maximum: 16915.101562', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210716_predicted.txt\npredicting:  20210717\nRead from original folder for current date: 20210717\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-17 00:00:00\nreading from original folder\nreading past files for 2021-07-16 00:00:00\nreading from predicted folder\nreading past files for 2021-07-15 00:00:00\nreading from predicted folder\nreading past files for 2021-07-14 00:00:00\nreading from predicted folder\nreading past files for 2021-07-13 00:00:00\nreading from original folder\nreading past files for 2021-07-12 00:00:00\nreading from original folder\nreading past files for 2021-07-11 00:00:00\nreading from original folder\n['Mean Absolute Error (MAE): 2872.6816772733246', 'Mean Squared Error (MSE): 53731922.86856385', 'Root Mean Squared Error (RMSE): 7330.206195501178', 'R-squared (R2) Score: -20062.750942664527', 'Explained Variance Score: -16982.005116415432', 'Mean Squared Log Error (MSLE): 21.04741799300134', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 61195.6015625', 'Mean: 0.45815916447683025', 'Median: 0.0', 'Standard Deviation: 51.75013792081203', 'Minimum: 0.0', 'Maximum: 15969.007812', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210717_predicted.txt\npredicting:  20210718\nRead from original folder for current date: 20210718\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-18 00:00:00\nreading from original folder\nreading past files for 2021-07-17 00:00:00\nreading from predicted folder\nreading past files for 2021-07-16 00:00:00\nreading from predicted folder\nreading past files for 2021-07-15 00:00:00\nreading from predicted folder\nreading past files for 2021-07-14 00:00:00\nreading from predicted folder\nreading past files for 2021-07-13 00:00:00\nreading from original folder\nreading past files for 2021-07-12 00:00:00\nreading from original folder\n['Mean Absolute Error (MAE): 4530.443564599433', 'Mean Squared Error (MSE): 104413821.48819515', 'Root Mean Squared Error (RMSE): 10218.30815194938', 'R-squared (R2) Score: -27776.640581619242', 'Explained Variance Score: -22317.070582651995', 'Mean Squared Log Error (MSLE): 26.1067581327207', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 76443.4934085', 'Mean: 0.7132855446223089', 'Median: 0.0', 'Standard Deviation: 61.31019574760577', 'Minimum: 0.0', 'Maximum: 13514.680664', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210718_predicted.txt\npredicting:  20210719\nRead from original folder for current date: 20210719\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-19 00:00:00\nreading from original folder\nreading past files for 2021-07-18 00:00:00\nreading from predicted folder\nreading past files for 2021-07-17 00:00:00\nreading from predicted folder\nreading past files for 2021-07-16 00:00:00\nreading from predicted folder\nreading past files for 2021-07-15 00:00:00\nreading from predicted folder\nreading past files for 2021-07-14 00:00:00\nreading from predicted folder\nreading past files for 2021-07-13 00:00:00\nreading from original folder\n['Mean Absolute Error (MAE): 6001.4302088530585', 'Mean Squared Error (MSE): 162201933.82799986', 'Root Mean Squared Error (RMSE): 12735.852300808136', 'R-squared (R2) Score: -114755.3089123979', 'Explained Variance Score: -89274.70824112417', 'Mean Squared Log Error (MSLE): 30.48744485646807', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 82098.6762695', 'Mean: 0.46430615542422926', 'Median: 0.0', 'Standard Deviation: 37.59595427576498', 'Minimum: 0.0', 'Maximum: 8387.192383', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210719_predicted.txt\npredicting:  20210720\nRead from original folder for current date: 20210720\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-20 00:00:00\nreading from original folder\nreading past files for 2021-07-19 00:00:00\nreading from predicted folder\nreading past files for 2021-07-18 00:00:00\nreading from predicted folder\nreading past files for 2021-07-17 00:00:00\nreading from predicted folder\nreading past files for 2021-07-16 00:00:00\nreading from predicted folder\nreading past files for 2021-07-15 00:00:00\nreading from predicted folder\nreading past files for 2021-07-14 00:00:00\nreading from predicted folder\n['Mean Absolute Error (MAE): 6109.850464599678', 'Mean Squared Error (MSE): 151145980.3781693', 'Root Mean Squared Error (RMSE): 12294.14414988572', 'R-squared (R2) Score: -78602.79418184012', 'Explained Variance Score: -59190.776195523766', 'Mean Squared Log Error (MSLE): 32.44928513970738', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 74431.375', 'Mean: 0.50389648040622', 'Median: 0.0', 'Standard Deviation: 43.850841345147174', 'Minimum: 0.0', 'Maximum: 11851.475586', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210720_predicted.txt\npredicting:  20210721\nRead from original folder for current date: 20210721\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-21 00:00:00\nreading from original folder\nreading past files for 2021-07-20 00:00:00\nreading from predicted folder\nreading past files for 2021-07-19 00:00:00\nreading from predicted folder\nreading past files for 2021-07-18 00:00:00\nreading from predicted folder\nreading past files for 2021-07-17 00:00:00\nreading from predicted folder\nreading past files for 2021-07-16 00:00:00\nreading from predicted folder\nreading past files for 2021-07-15 00:00:00\nreading from predicted folder\n['Mean Absolute Error (MAE): 7073.64654872541', 'Mean Squared Error (MSE): 186100971.07257128', 'Root Mean Squared Error (RMSE): 13641.882973862928', 'R-squared (R2) Score: -290038.38661847886', 'Explained Variance Score: -212061.3260172615', 'Mean Squared Log Error (MSLE): 35.504253455862305', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 81766.703125', 'Mean: 0.3414905426205368', 'Median: 0.0', 'Standard Deviation: 25.33070137219841', 'Minimum: 0.0', 'Maximum: 4725.491699', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210721_predicted.txt\npredicting:  20210722\nRead from original folder for current date: 20210722\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-22 00:00:00\nreading from original folder\nreading past files for 2021-07-21 00:00:00\nreading from predicted folder\nreading past files for 2021-07-20 00:00:00\nreading from predicted folder\nreading past files for 2021-07-19 00:00:00\nreading from predicted folder\nreading past files for 2021-07-18 00:00:00\nreading from predicted folder\nreading past files for 2021-07-17 00:00:00\nreading from predicted folder\nreading past files for 2021-07-16 00:00:00\nreading from predicted folder\n['Mean Absolute Error (MAE): 8259.750879089086', 'Mean Squared Error (MSE): 241988756.55596012', 'Root Mean Squared Error (RMSE): 15555.98780392811', 'R-squared (R2) Score: -189544.18868318948', 'Explained Variance Score: -136109.49203290127', 'Mean Squared Log Error (MSLE): 37.81581175524672', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 76374.4921875', 'Mean: 0.39796345876285383', 'Median: 0.0', 'Standard Deviation: 35.73078813677705', 'Minimum: 0.0', 'Maximum: 8153.587891', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210722_predicted.txt\npredicting:  20210723\nRead from original folder for current date: 20210723\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-23 00:00:00\nreading from original folder\nreading past files for 2021-07-22 00:00:00\nreading from predicted folder\nreading past files for 2021-07-21 00:00:00\nreading from predicted folder\nreading past files for 2021-07-20 00:00:00\nreading from predicted folder\nreading past files for 2021-07-19 00:00:00\nreading from predicted folder\nreading past files for 2021-07-18 00:00:00\nreading from predicted folder\nreading past files for 2021-07-17 00:00:00\nreading from predicted folder\n['Mean Absolute Error (MAE): 8487.190863520902', 'Mean Squared Error (MSE): 244738855.10101384', 'Root Mean Squared Error (RMSE): 15644.131650590705', 'R-squared (R2) Score: -194085.4303833217', 'Explained Variance Score: -136966.56572782542', 'Mean Squared Log Error (MSLE): 39.38036034697394', 'Median Absolute Error (MedAE): 5.918902397155762', 'Max Error: 75123.8046875', 'Mean: 0.4618754229413305', 'Median: 0.0', 'Standard Deviation: 35.51037511889856', 'Minimum: 0.0', 'Maximum: 6458.900879', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210723_predicted.txt\npredicting:  20210724\nRead from original folder for current date: 20210724\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-24 00:00:00\nreading from original folder\nreading past files for 2021-07-23 00:00:00\nreading from predicted folder\nreading past files for 2021-07-22 00:00:00\nreading from predicted folder\nreading past files for 2021-07-21 00:00:00\nreading from predicted folder\nreading past files for 2021-07-20 00:00:00\nreading from predicted folder\nreading past files for 2021-07-19 00:00:00\nreading from predicted folder\nreading past files for 2021-07-18 00:00:00\nreading from predicted folder\n['Mean Absolute Error (MAE): 9234.726927396357', 'Mean Squared Error (MSE): 270017305.4840777', 'Root Mean Squared Error (RMSE): 16432.203305828396', 'R-squared (R2) Score: -1400533.1827435938', 'Explained Variance Score: -958217.6148758908', 'Mean Squared Log Error (MSLE): 41.69820420434795', 'Median Absolute Error (MedAE): 6.207109451293945', 'Max Error: 77709.75', 'Mean: 0.25003795589088407', 'Median: 0.0', 'Standard Deviation: 13.885142057856433', 'Minimum: 0.0', 'Maximum: 2124.051025', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210724_predicted.txt\npredicting:  20210725\nRead from original folder for current date: 20210725\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-25 00:00:00\nreading from original folder\nreading past files for 2021-07-24 00:00:00\nreading from predicted folder\nreading past files for 2021-07-23 00:00:00\nreading from predicted folder\nreading past files for 2021-07-22 00:00:00\nreading from predicted folder\nreading past files for 2021-07-21 00:00:00\nreading from predicted folder\nreading past files for 2021-07-20 00:00:00\nreading from predicted folder\nreading past files for 2021-07-19 00:00:00\nreading from predicted folder\n['Mean Absolute Error (MAE): 9052.765503575038', 'Mean Squared Error (MSE): 260433947.78365833', 'Root Mean Squared Error (RMSE): 16137.966036141554', 'R-squared (R2) Score: -845983.6055455322', 'Explained Variance Score: -579780.7391383698', 'Mean Squared Log Error (MSLE): 41.38494084743184', 'Median Absolute Error (MedAE): 5.943702697753906', 'Max Error: 75338.3515625', 'Mean: 0.31645865549754254', 'Median: 0.0', 'Standard Deviation: 17.545629376636203', 'Minimum: 0.0', 'Maximum: 3373.57251', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210725_predicted.txt\npredicting:  20210726\nRead from original folder for current date: 20210726\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-26 00:00:00\nreading from original folder\nreading past files for 2021-07-25 00:00:00\nreading from predicted folder\nreading past files for 2021-07-24 00:00:00\nreading from predicted folder\nreading past files for 2021-07-23 00:00:00\nreading from predicted folder\nreading past files for 2021-07-22 00:00:00\nreading from predicted folder\nreading past files for 2021-07-21 00:00:00\nreading from predicted folder\nreading past files for 2021-07-20 00:00:00\nreading from predicted folder\n['Mean Absolute Error (MAE): 9361.52439939124', 'Mean Squared Error (MSE): 269156041.8499972', 'Root Mean Squared Error (RMSE): 16405.975796946586', 'R-squared (R2) Score: -859921.8179798598', 'Explained Variance Score: -579935.9366222571', 'Mean Squared Log Error (MSLE): 41.477761173187325', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 72648.0546875', 'Mean: 0.3056233771173204', 'Median: 0.0', 'Standard Deviation: 17.691868973735954', 'Minimum: 0.0', 'Maximum: 3619.915039', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020//20210714/metrics_20210726_predicted.txt\npredicting:  20210727\nRead from original folder for current date: 20210727\ncurrent_start_dt is: 2021-07-14 00:00:00\nreading past files for 2021-07-27 00:00:00\nreading from original folder\nreading past files for 2021-07-26 00:00:00\nreading from predicted folder\nreading past files for 2021-07-25 00:00:00\nreading from predicted folder\nreading past files for 2021-07-24 00:00:00\nreading from predicted folder\nreading past files for 2021-07-23 00:00:00\nreading from predicted folder\nreading past files for 2021-07-22 00:00:00\nreading from predicted folder\n\nStream closed",
  "history_begin_time" : 1694812595970,
  "history_end_time" : 1694813474150,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "287VDAAdHOp1",
  "history_input" : "# create a ML model for wildfire emission forecasting\nimport os\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n#model_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_month_202007.pkl\"\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1_weighted_one_year_2020.pkl\"\noutput_folder_name = \"output_weighted_xgboost_2020_year_model\"\n#output_folder_name = \"output_xgboost_202007\"\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # create output folder\n  output_folder_full_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n  if not os.path.exists(output_folder_full_path):\n    os.makedirs(output_folder_full_path)\n      \n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    print(f\"generating prediction for {date_str}\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    #print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    #print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    #print(\"y_pred_df shape: \", y_pred_df.shape)\n    #print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    #print(\"merged_df shape: \", merged_df.shape)\n    #print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "training on 20200116\ntraining on 20200117\ntraining on 20200118\ntraining on 20200119\ntraining on 20200120\ntraining on 20200121\ntraining on 20200122\ntraining on 20200123\ntraining on 20200124\ntraining on 20200125\ntraining on 20200126\ntraining on 20200127\ntraining on 20200128\ntraining on 20200129\ntraining on 20200130\ntraining on 20200131\ntraining on 20200201\ntraining on 20200202\ntraining on 20200203\ntraining on 20200204\ntraining on 20200205\ntraining on 20200206\ntraining on 20200207\ntraining on 20200208\ntraining on 20200209\ntraining on 20200210\ntraining on 20200211\ntraining on 20200212\ntraining on 20200213\ntraining on 20200214\ntraining on 20200215\ntraining on 20200216\ntraining on 20200217\ntraining on 20200218\ntraining on 20200219\ntraining on 20200220\ntraining on 20200221\ntraining on 20200222\ntraining on 20200223\ntraining on 20200224\ntraining on 20200225\ntraining on 20200226\ntraining on 20200227\ntraining on 20200228\ntraining on 20200229\ntraining on 20200301\ntraining on 20200302\ntraining on 20200303\ntraining on 20200304\ntraining on 20200305\ntraining on 20200306\ntraining on 20200307\ntraining on 20200308\ntraining on 20200309\ntraining on 20200310\ntraining on 20200311\ntraining on 20200312\ntraining on 20200313\ntraining on 20200314\ntraining on 20200315\ntraining on 20200316\ntraining on 20200317\ntraining on 20200318\ntraining on 20200319\ntraining on 20200320\ntraining on 20200321\ntraining on 20200322\ntraining on 20200323\ntraining on 20200324\ntraining on 20200325\ntraining on 20200326\ntraining on 20200327\ntraining on 20200328\ntraining on 20200329\ntraining on 20200330\ntraining on 20200331\ntraining on 20200401\ntraining on 20200402\ntraining on 20200403\ntraining on 20200404\ntraining on 20200405\ntraining on 20200406\ntraining on 20200407\ntraining on 20200408\ntraining on 20200409\ntraining on 20200410\ntraining on 20200411\ntraining on 20200412\ntraining on 20200413\ntraining on 20200414\ntraining on 20200415\ntraining on 20200416\ntraining on 20200417\ntraining on 20200418\ntraining on 20200419\ntraining on 20200420\ntraining on 20200421\ntraining on 20200422\ntraining on 20200423\ntraining on 20200424\ntraining on 20200425\ntraining on 20200426\ntraining on 20200427\ntraining on 20200428\ntraining on 20200429\ntraining on 20200430\ntraining on 20200501\ntraining on 20200502\ntraining on 20200503\ntraining on 20200504\ntraining on 20200505\ntraining on 20200506\ntraining on 20200507\ntraining on 20200508\ntraining on 20200509\ntraining on 20200510\ntraining on 20200511\ntraining on 20200512\ntraining on 20200513\ntraining on 20200514\ntraining on 20200515\ntraining on 20200516\ntraining on 20200517\ntraining on 20200518\ntraining on 20200519\ntraining on 20200520\ntraining on 20200521\ntraining on 20200522\ntraining on 20200523\ntraining on 20200524\ntraining on 20200525\ntraining on 20200526\ntraining on 20200527\ntraining on 20200528\ntraining on 20200529\ntraining on 20200530\ntraining on 20200531\ntraining on 20200601\ntraining on 20200602\ntraining on 20200603\ntraining on 20200604\ntraining on 20200605\ntraining on 20200606\ntraining on 20200607\ntraining on 20200608\ntraining on 20200609\ntraining on 20200610\ntraining on 20200611\ntraining on 20200612\ntraining on 20200613\ntraining on 20200614\ntraining on 20200615\ntraining on 20200616\ntraining on 20200617\ntraining on 20200618\ntraining on 20200619\ntraining on 20200620\ntraining on 20200621\ntraining on 20200622\ntraining on 20200623\ntraining on 20200624\ntraining on 20200625\ntraining on 20200626\ntraining on 20200627\ntraining on 20200628\ntraining on 20200629\ntraining on 20200630\ntraining on 20200701\ntraining on 20200702\ntraining on 20200703\ntraining on 20200704\ntraining on 20200705\ntraining on 20200706\ntraining on 20200707\ntraining on 20200708\ntraining on 20200709\ntraining on 20200710\ntraining on 20200711\ntraining on 20200712\ntraining on 20200713\ntraining on 20200714\ntraining on 20200715\ntraining on 20200716\ntraining on 20200717\ntraining on 20200718\ntraining on 20200719\ntraining on 20200720\ntraining on 20200721\ntraining on 20200722\ntraining on 20200723\ntraining on 20200724\ntraining on 20200725\ntraining on 20200726\ntraining on 20200727\ntraining on 20200728\ntraining on 20200729\ntraining on 20200730\ntraining on 20200731\ntraining on 20200801\ntraining on 20200802\ntraining on 20200803\ntraining on 20200804\ntraining on 20200805\ntraining on 20200806\ntraining on 20200807\ntraining on 20200808\ntraining on 20200809\ntraining on 20200810\ntraining on 20200811\ntraining on 20200812\ntraining on 20200813\ntraining on 20200814\ntraining on 20200815\ntraining on 20200816\ntraining on 20200817\ntraining on 20200818\ntraining on 20200819\ntraining on 20200820\ntraining on 20200821\ntraining on 20200822\ntraining on 20200823\ntraining on 20200824\ntraining on 20200825\ntraining on 20200826\ntraining on 20200827\ntraining on 20200828\ntraining on 20200829\ntraining on 20200830\ntraining on 20200831\ntraining on 20200901\ntraining on 20200902\ntraining on 20200903\ntraining on 20200904\ntraining on 20200905\ntraining on 20200906\ntraining on 20200907\ntraining on 20200908\ntraining on 20200909\ntraining on 20200910\ntraining on 20200911\ntraining on 20200912\ntraining on 20200913\ntraining on 20200914\ntraining on 20200915\ntraining on 20200916\ntraining on 20200917\ntraining on 20200918\ntraining on 20200919\ntraining on 20200920\ntraining on 20200921\ntraining on 20200922\ntraining on 20200923\ntraining on 20200924\ntraining on 20200925\ntraining on 20200926\ntraining on 20200927\ntraining on 20200928\ntraining on 20200929\ntraining on 20200930\ntraining on 20201001\ntraining on 20201002\ntraining on 20201003\ntraining on 20201004\ntraining on 20201005\ntraining on 20201006\ntraining on 20201007\ntraining on 20201008\ntraining on 20201009\ntraining on 20201010\ntraining on 20201011\ntraining on 20201012\ntraining on 20201013\ntraining on 20201014\ntraining on 20201015\ntraining on 20201016\ntraining on 20201017\ntraining on 20201018\ntraining on 20201019\ntraining on 20201020\ntraining on 20201021\ntraining on 20201022\ntraining on 20201023\ntraining on 20201024\ntraining on 20201025\ntraining on 20201026\ntraining on 20201027\ntraining on 20201028\ntraining on 20201029\ntraining on 20201030\ntraining on 20201031\ntraining on 20201101\ntraining on 20201102\ntraining on 20201103\ntraining on 20201104\ntraining on 20201105\ntraining on 20201106\ntraining on 20201107\ntraining on 20201108\ntraining on 20201109\ntraining on 20201110\ntraining on 20201111\ntraining on 20201112\ntraining on 20201113\ntraining on 20201114\ntraining on 20201115\ntraining on 20201116\ntraining on 20201117\ntraining on 20201118\ntraining on 20201119\ntraining on 20201120\ntraining on 20201121\ntraining on 20201122\ntraining on 20201123\ntraining on 20201124\ntraining on 20201125\ntraining on 20201126\ntraining on 20201127\ntraining on 20201128\ntraining on 20201129\ntraining on 20201130\ntraining on 20201201\ntraining on 20201202\ntraining on 20201203\ntraining on 20201204\ntraining on 20201205\ntraining on 20201206\ntraining on 20201207\ntraining on 20201208\ntraining on 20201209\ntraining on 20201210\ntraining on 20201211\ntraining on 20201212\ntraining on 20201213\ntraining on 20201214\ntraining on 20201215\ntraining on 20201216\ntraining on 20201217\ntraining on 20201218\ntraining on 20201219\ntraining on 20201220\ntraining on 20201221\ntraining on 20201222\ntraining on 20201223\ntraining on 20201224\ntraining on 20201225\ntraining on 20201226\ntraining on 20201227\ntraining on 20201228\ntraining on 20201229\ntraining on 20201230\ntraining on 20201231\ntraining on 20210101\ngenerating prediction for 20210715\n['Mean Absolute Error (MAE): 47.05516402158476', 'Mean Squared Error (MSE): 206819.0466489031', 'Root Mean Squared Error (RMSE): 454.7736213204358', 'R-squared (R2) Score: -81.15544877840604', 'Explained Variance Score: -80.28570016949459', 'Mean Squared Log Error (MSLE): 5.210248623747977', 'Median Absolute Error (MedAE): 2.014871120452881', 'Max Error: 44762.11761475', 'Mean: 0.4527865538215363', 'Median: 0.0', 'Standard Deviation: 50.1739698027898', 'Minimum: 0.0', 'Maximum: 16156.818359', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210715_predicted.txt\ngenerating prediction for 20210716\n['Mean Absolute Error (MAE): 31.959963218789007', 'Mean Squared Error (MSE): 232313.469725665', 'Root Mean Squared Error (RMSE): 481.9890763551234', 'R-squared (R2) Score: -101.53680732971188', 'Explained Variance Score: -101.08948346179542', 'Mean Squared Log Error (MSLE): 4.477957808120389', 'Median Absolute Error (MedAE): 2.3075037002563477', 'Max Error: 54238.3877865', 'Mean: 0.38597127211990223', 'Median: 0.0', 'Standard Deviation: 47.59909379644986', 'Minimum: 0.0', 'Maximum: 16915.101562', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210716_predicted.txt\ngenerating prediction for 20210717\n['Mean Absolute Error (MAE): 32.63590498855091', 'Mean Squared Error (MSE): 278914.8820438047', 'Root Mean Squared Error (RMSE): 528.1239267859436', 'R-squared (R2) Score: -103.14811956792201', 'Explained Variance Score: -102.75568534225285', 'Mean Squared Log Error (MSLE): 4.865918899864881', 'Median Absolute Error (MedAE): 2.827105760574341', 'Max Error: 57903.6878665', 'Mean: 0.45815916447683025', 'Median: 0.0', 'Standard Deviation: 51.75013792081203', 'Minimum: 0.0', 'Maximum: 15969.007812', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210717_predicted.txt\ngenerating prediction for 20210718\n['Mean Absolute Error (MAE): 32.31261890620461', 'Mean Squared Error (MSE): 362832.91373916186', 'Root Mean Squared Error (RMSE): 602.3561353046566', 'R-squared (R2) Score: -95.52594000850328', 'Explained Variance Score: -95.25469051250528', 'Mean Squared Log Error (MSLE): 4.790620177347601', 'Median Absolute Error (MedAE): 2.240088701248169', 'Max Error: 63907.914001', 'Mean: 0.7132855446223089', 'Median: 0.0', 'Standard Deviation: 61.31019574760577', 'Minimum: 0.0', 'Maximum: 13514.680664', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210718_predicted.txt\ngenerating prediction for 20210719\n['Mean Absolute Error (MAE): 28.616546336818566', 'Mean Squared Error (MSE): 280040.3438191175', 'Root Mean Squared Error (RMSE): 529.1883821656684', 'R-squared (R2) Score: -197.12585118324446', 'Explained Variance Score: -196.56030109306417', 'Mean Squared Log Error (MSLE): 4.405593349118663', 'Median Absolute Error (MedAE): 1.9788826704025269', 'Max Error: 79165.5896605', 'Mean: 0.46430615542422926', 'Median: 0.0', 'Standard Deviation: 37.59595427576498', 'Minimum: 0.0', 'Maximum: 8387.192383', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210719_predicted.txt\ngenerating prediction for 20210720\n['Mean Absolute Error (MAE): 35.23404507404175', 'Mean Squared Error (MSE): 369163.19925965904', 'Root Mean Squared Error (RMSE): 607.5880177057963', 'R-squared (R2) Score: -190.98412065946687', 'Explained Variance Score: -190.35271052175963', 'Mean Squared Log Error (MSLE): 4.6811240640709615', 'Median Absolute Error (MedAE): 1.4193753004074097', 'Max Error: 68342.1271975', 'Mean: 0.50389648040622', 'Median: 0.0', 'Standard Deviation: 43.850841345147174', 'Minimum: 0.0', 'Maximum: 11851.475586', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210720_predicted.txt\ngenerating prediction for 20210721\n['Mean Absolute Error (MAE): 43.66162674555891', 'Mean Squared Error (MSE): 324160.35475985205', 'Root Mean Squared Error (RMSE): 569.3508187048228', 'R-squared (R2) Score: -504.2056951594979', 'Explained Variance Score: -501.268029763295', 'Mean Squared Log Error (MSLE): 5.424568931974672', 'Median Absolute Error (MedAE): 1.8582881689071655', 'Max Error: 55657.97058075', 'Mean: 0.3414905426205368', 'Median: 0.0', 'Standard Deviation: 25.33070137219841', 'Minimum: 0.0', 'Maximum: 4725.491699', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210721_predicted.txt\ngenerating prediction for 20210722\n['Mean Absolute Error (MAE): 43.788330820294625', 'Mean Squared Error (MSE): 224426.73197845372', 'Root Mean Squared Error (RMSE): 473.7369860781969', 'R-squared (R2) Score: -174.78918898478005', 'Explained Variance Score: -173.31178654356606', 'Mean Squared Log Error (MSLE): 5.438495433395231', 'Median Absolute Error (MedAE): 1.3173524141311646', 'Max Error: 45733.6113285', 'Mean: 0.39796345876285383', 'Median: 0.0', 'Standard Deviation: 35.73078813677705', 'Minimum: 0.0', 'Maximum: 8153.587891', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210722_predicted.txt\ngenerating prediction for 20210723\n['Mean Absolute Error (MAE): 47.29381254253053', 'Mean Squared Error (MSE): 262792.94544944965', 'Root Mean Squared Error (RMSE): 512.6333440671311', 'R-squared (R2) Score: -207.4039524134857', 'Explained Variance Score: -205.6609617258255', 'Mean Squared Log Error (MSLE): 5.356479309580904', 'Median Absolute Error (MedAE): 1.500390648841858', 'Max Error: 72410.6660155', 'Mean: 0.4618754229413305', 'Median: 0.0', 'Standard Deviation: 35.51037511889856', 'Minimum: 0.0', 'Maximum: 6458.900879', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210723_predicted.txt\ngenerating prediction for 20210724\n['Mean Absolute Error (MAE): 51.62547350493268', 'Mean Squared Error (MSE): 347601.5102002991', 'Root Mean Squared Error (RMSE): 589.5773996688638', 'R-squared (R2) Score: -1801.950355852366', 'Explained Variance Score: -1788.2286907828095', 'Mean Squared Log Error (MSLE): 5.393477133170596', 'Median Absolute Error (MedAE): 1.6560803651809692', 'Max Error: 62499.1056515', 'Mean: 0.25003795589088407', 'Median: 0.0', 'Standard Deviation: 13.885142057856433', 'Minimum: 0.0', 'Maximum: 2124.051025', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210724_predicted.txt\ngenerating prediction for 20210725\n['Mean Absolute Error (MAE): 53.33852218395473', 'Mean Squared Error (MSE): 208120.44847230543', 'Root Mean Squared Error (RMSE): 456.20220130146834', 'R-squared (R2) Score: -675.0512483305772', 'Explained Variance Score: -665.8798576670902', 'Mean Squared Log Error (MSLE): 5.796289304012063', 'Median Absolute Error (MedAE): 2.0187721252441406', 'Max Error: 48900.0117795', 'Mean: 0.31645865549754254', 'Median: 0.0', 'Standard Deviation: 17.545629376636203', 'Minimum: 0.0', 'Maximum: 3373.57251', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210725_predicted.txt\ngenerating prediction for 20210726\n['Mean Absolute Error (MAE): 34.56192585626361', 'Mean Squared Error (MSE): 281557.6890671889', 'Root Mean Squared Error (RMSE): 530.6200986272465', 'R-squared (R2) Score: -898.5446646577172', 'Explained Variance Score: -894.7592282643775', 'Mean Squared Log Error (MSLE): 4.931056206221775', 'Median Absolute Error (MedAE): 1.5867358446121216', 'Max Error: 55765.11395275', 'Mean: 0.3056233771173204', 'Median: 0.0', 'Standard Deviation: 17.691868973735954', 'Minimum: 0.0', 'Maximum: 3619.915039', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210726_predicted.txt\ngenerating prediction for 20210727\n['Mean Absolute Error (MAE): 32.53660007089287', 'Mean Squared Error (MSE): 291850.09186931775', 'Root Mean Squared Error (RMSE): 540.2315169159587', 'R-squared (R2) Score: -1480.0306720407043', 'Explained Variance Score: -1474.702825256922', 'Mean Squared Log Error (MSLE): 4.7984350344725195', 'Median Absolute Error (MedAE): 1.5792299509048462', 'Max Error: 54361.29171775', 'Mean: 0.18086898233467844', 'Median: 0.0', 'Standard Deviation: 14.037807255916087', 'Minimum: 0.0', 'Maximum: 3609.103027', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210727_predicted.txt\ngenerating prediction for 20210728\n['Mean Absolute Error (MAE): 34.65856593678417', 'Mean Squared Error (MSE): 379767.9024686813', 'Root Mean Squared Error (RMSE): 616.2531155853748', 'R-squared (R2) Score: -3263.4994280571896', 'Explained Variance Score: -3253.248402133084', 'Mean Squared Log Error (MSLE): 4.751738164387525', 'Median Absolute Error (MedAE): 1.6271082162857056', 'Max Error: 65256.6142275', 'Mean: 0.16265263843147748', 'Median: 0.0', 'Standard Deviation: 10.785796297296027', 'Minimum: 0.0', 'Maximum: 2224.424072', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210728_predicted.txt\ngenerating prediction for 20210729\n['Mean Absolute Error (MAE): 45.1564882576185', 'Mean Squared Error (MSE): 268140.6538825794', 'Root Mean Squared Error (RMSE): 517.8229947410402', 'R-squared (R2) Score: -1278.010793396149', 'Explained Variance Score: -1268.3515533159787', 'Mean Squared Log Error (MSLE): 5.195196765599702', 'Median Absolute Error (MedAE): 1.6695071458816528', 'Max Error: 47770.64764425', 'Mean: 0.2172711726050453', 'Median: 0.0', 'Standard Deviation: 14.479234827795521', 'Minimum: 0.0', 'Maximum: 3471.15332', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210729_predicted.txt\ngenerating prediction for 20210730\n['Mean Absolute Error (MAE): 33.801232502753315', 'Mean Squared Error (MSE): 289528.4461918713', 'Root Mean Squared Error (RMSE): 538.078475867481', 'R-squared (R2) Score: -705.0118773113851', 'Explained Variance Score: -702.2514193698679', 'Mean Squared Log Error (MSLE): 4.582695611509222', 'Median Absolute Error (MedAE): 1.6162458658218384', 'Max Error: 53868.57196', 'Mean: 0.28142720115898784', 'Median: 0.0', 'Standard Deviation: 20.25074478991796', 'Minimum: 0.0', 'Maximum: 5541.599609', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210730_predicted.txt\ngenerating prediction for 20210731\n['Mean Absolute Error (MAE): 37.699925256007525', 'Mean Squared Error (MSE): 379029.1422109029', 'Root Mean Squared Error (RMSE): 615.6534270276605', 'R-squared (R2) Score: -3019.0992488504316', 'Explained Variance Score: -3007.888324713804', 'Mean Squared Log Error (MSLE): 3.899586003014524', 'Median Absolute Error (MedAE): 0.16626916825771332', 'Max Error: 84954.844971', 'Mean: 0.25519616228380554', 'Median: 0.0', 'Standard Deviation: 11.202812775557293', 'Minimum: 0.0', 'Maximum: 1532.216431', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210731_predicted.txt\ngenerating prediction for 20210801\n['Mean Absolute Error (MAE): 42.170767536206114', 'Mean Squared Error (MSE): 343948.7446681536', 'Root Mean Squared Error (RMSE): 586.4714355091419', 'R-squared (R2) Score: -243.76337136223734', 'Explained Variance Score: -242.51275226359996', 'Mean Squared Log Error (MSLE): 4.132874911144078', 'Median Absolute Error (MedAE): 0.6319624185562134', 'Max Error: 69520.9226685', 'Mean: 0.40752644062577714', 'Median: 0.0', 'Standard Deviation: 37.48651224517473', 'Minimum: 0.0', 'Maximum: 9899.054688', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020_year_model/metrics_20210801_predicted.txt\n",
  "history_begin_time" : 1694227011985,
  "history_end_time" : 1694241113589,
  "history_notes" : "weighted xgboost yearly model result for july 2021",
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "5TKEeizRPiUO",
  "history_input" : "# create a ML model for wildfire emission forecasting\nimport os\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n#model_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_month_202007.pkl\"\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v3_weighted_one_month_202007.pkl\"\noutput_folder_name = \"output_weighted_xgboost_2020\"\n#output_folder_name = \"output_xgboost_202007\"\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # create output folder\n  output_folder_full_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n  if not os.path.exists(output_folder_full_path):\n    os.makedirs(output_folder_full_path)\n      \n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    print(f\"generating prediction for {date_str}\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    #print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    #print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    #print(\"y_pred_df shape: \", y_pred_df.shape)\n    #print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    #print(\"merged_df shape: \", merged_df.shape)\n    #print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "training on 20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\n20200629\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200629.txt\n20200628\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200628.txt\n20200627\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200627.txt\n20200626\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200626.txt\ntraining on 20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\n20200629\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200629.txt\n20200628\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200628.txt\n20200627\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200627.txt\ntraining on 20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\n20200629\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200629.txt\n20200628\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200628.txt\ntraining on 20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\n20200629\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200629.txt\ntraining on 20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\ntraining on 20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\ntraining on 20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\ntraining on 20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\ntraining on 20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\ntraining on 20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\ntraining on 20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\ntraining on 20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\ntraining on 20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\ntraining on 20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\ntraining on 20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\ntraining on 20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\ntraining on 20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\ntraining on 20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\ntraining on 20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\ntraining on 20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\ntraining on 20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\ntraining on 20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\ntraining on 20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\ntraining on 20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\ntraining on 20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\ntraining on 20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\ntraining on 20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\ntraining on 20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\ntraining on 20200730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200730.txt\n20200730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200730.txt\n20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\ntraining on 20200731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200731.txt\n20200731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200731.txt\n20200730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200730.txt\n20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\ntraining on 20200801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200801.txt\n20200801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200801.txt\n20200731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200731.txt\n20200730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200730.txt\n20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\ngenerating prediction for 20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n20210709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210709.txt\n['Mean Absolute Error (MAE): 1.0652714521163797', 'Mean Squared Error (MSE): 1692.0351948314076', 'Root Mean Squared Error (RMSE): 41.13435540799694', 'R-squared (R2) Score: 0.3278669782468546', 'Explained Variance Score: 0.3280384882991364', 'Mean Squared Log Error (MSLE): 0.43113202427687575', 'Median Absolute Error (MedAE): 0.008701909333467484', 'Max Error: 14546.939818960938', 'Mean: 0.4527865538215363', 'Median: 0.0', 'Standard Deviation: 50.1739698027898', 'Minimum: 0.0', 'Maximum: 16156.818359', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210715_predicted.txt\ngenerating prediction for 20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n['Mean Absolute Error (MAE): 0.9910321375930935', 'Mean Squared Error (MSE): 1592.2075755294225', 'Root Mean Squared Error (RMSE): 39.902475807015065', 'R-squared (R2) Score: 0.2972431534264507', 'Explained Variance Score: 0.29744045814613185', 'Mean Squared Log Error (MSLE): 0.42493547888669775', 'Median Absolute Error (MedAE): 0.01459138747304678', 'Max Error: 15282.033080554687', 'Mean: 0.38597127211990223', 'Median: 0.0', 'Standard Deviation: 47.59909379644986', 'Minimum: 0.0', 'Maximum: 16915.101562', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210716_predicted.txt\ngenerating prediction for 20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n['Mean Absolute Error (MAE): 1.041436340139828', 'Mean Squared Error (MSE): 1817.3019447223544', 'Root Mean Squared Error (RMSE): 42.62982459173805', 'R-squared (R2) Score: 0.32141096651760737', 'Explained Variance Score: 0.32154011016558204', 'Mean Squared Log Error (MSLE): 0.42058222970853376', 'Median Absolute Error (MedAE): 0.012951130047440529', 'Max Error: 14380.7783198125', 'Mean: 0.45815916447683025', 'Median: 0.0', 'Standard Deviation: 51.75013792081203', 'Minimum: 0.0', 'Maximum: 15969.007812', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210717_predicted.txt\ngenerating prediction for 20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n['Mean Absolute Error (MAE): 1.155477384303652', 'Mean Squared Error (MSE): 2344.6341788662453', 'Root Mean Squared Error (RMSE): 48.4214227265809', 'R-squared (R2) Score: 0.3762472765802387', 'Explained Variance Score: 0.37630807616334794', 'Mean Squared Log Error (MSLE): 0.4094737827126515', 'Median Absolute Error (MedAE): 0.01363934762775898', 'Max Error: 11913.413085875', 'Mean: 0.7132855446223089', 'Median: 0.0', 'Standard Deviation: 61.31019574760577', 'Minimum: 0.0', 'Maximum: 13514.680664', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210718_predicted.txt\ngenerating prediction for 20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n['Mean Absolute Error (MAE): 1.0328528647433401', 'Mean Squared Error (MSE): 597.0675271366024', 'Root Mean Squared Error (RMSE): 24.43496525752804', 'R-squared (R2) Score: 0.5775804642483136', 'Explained Variance Score: 0.5778839748336271', 'Mean Squared Log Error (MSLE): 0.41524300342914766', 'Median Absolute Error (MedAE): 0.009497054852545261', 'Max Error: 6772.57763690625', 'Mean: 0.46430615542422926', 'Median: 0.0', 'Standard Deviation: 37.59595427576498', 'Minimum: 0.0', 'Maximum: 8387.192383', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210719_predicted.txt\ngenerating prediction for 20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n['Mean Absolute Error (MAE): 0.9966402292470488', 'Mean Squared Error (MSE): 1093.885559905158', 'Root Mean Squared Error (RMSE): 33.073940797932714', 'R-squared (R2) Score: 0.4311224473575813', 'Explained Variance Score: 0.4313130302036282', 'Mean Squared Log Error (MSLE): 0.41158175465479563', 'Median Absolute Error (MedAE): 0.0015599624020978808', 'Max Error: 10236.799682679688', 'Mean: 0.50389648040622', 'Median: 0.0', 'Standard Deviation: 43.850841345147174', 'Minimum: 0.0', 'Maximum: 11851.475586', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210720_predicted.txt\ngenerating prediction for 20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n['Mean Absolute Error (MAE): 0.9824527588867779', 'Mean Squared Error (MSE): 174.95170245045153', 'Root Mean Squared Error (RMSE): 13.226930953567859', 'R-squared (R2) Score: 0.7273368098288961', 'Explained Variance Score: 0.7283577791975886', 'Mean Squared Log Error (MSLE): 0.4833112008935691', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 3107.1309812265627', 'Mean: 0.3414905426205368', 'Median: 0.0', 'Standard Deviation: 25.33070137219841', 'Minimum: 0.0', 'Maximum: 4725.491699', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210721_predicted.txt\ngenerating prediction for 20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n['Mean Absolute Error (MAE): 1.084330564494624', 'Mean Squared Error (MSE): 613.4949561774865', 'Root Mean Squared Error (RMSE): 24.76883033527192', 'R-squared (R2) Score: 0.5194610738125112', 'Explained Variance Score: 0.5198956119732743', 'Mean Squared Log Error (MSLE): 0.47902836972338453', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 6608.049682992188', 'Mean: 0.39796345876285383', 'Median: 0.0', 'Standard Deviation: 35.73078813677705', 'Minimum: 0.0', 'Maximum: 8153.587891', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210722_predicted.txt\ngenerating prediction for 20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n['Mean Absolute Error (MAE): 0.9604155441531461', 'Mean Squared Error (MSE): 517.0144540850297', 'Root Mean Squared Error (RMSE): 22.73795184454901', 'R-squared (R2) Score: 0.5899895429006217', 'Explained Variance Score: 0.5902945168915938', 'Mean Squared Log Error (MSLE): 0.4097800653468375', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 4835.535644625', 'Mean: 0.4618754229413305', 'Median: 0.0', 'Standard Deviation: 35.51037511889856', 'Minimum: 0.0', 'Maximum: 6458.900879', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210723_predicted.txt\ngenerating prediction for 20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n['Mean Absolute Error (MAE): 0.8564516241509801', 'Mean Squared Error (MSE): 18.892953293050564', 'Root Mean Squared Error (RMSE): 4.346602500005098', 'R-squared (R2) Score: 0.9020054405310857', 'Explained Variance Score: 0.9052851138259522', 'Mean Squared Log Error (MSLE): 0.43021776114259186', 'Median Absolute Error (MedAE): 0.004785454366356134', 'Max Error: 538.5981449062501', 'Mean: 0.25003795589088407', 'Median: 0.0', 'Standard Deviation: 13.885142057856433', 'Minimum: 0.0', 'Maximum: 2124.051025', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210724_predicted.txt\ngenerating prediction for 20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n['Mean Absolute Error (MAE): 0.8828757437158951', 'Mean Squared Error (MSE): 49.814827629781846', 'Root Mean Squared Error (RMSE): 7.057962002574245', 'R-squared (R2) Score: 0.8381832412350967', 'Explained Variance Score: 0.8402259021742742', 'Mean Squared Log Error (MSLE): 0.4289515358390534', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 1688.6373293359375', 'Mean: 0.31645865549754254', 'Median: 0.0', 'Standard Deviation: 17.545629376636203', 'Minimum: 0.0', 'Maximum: 3373.57251', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210725_predicted.txt\ngenerating prediction for 20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n['Mean Absolute Error (MAE): 0.8054791666805501', 'Mean Squared Error (MSE): 49.15693201539091', 'Root Mean Squared Error (RMSE): 7.0112004689204905', 'R-squared (R2) Score: 0.8429492155874495', 'Explained Variance Score: 0.844680339206379', 'Mean Squared Log Error (MSLE): 0.3875749980415167', 'Median Absolute Error (MedAE): 0.007249182090163231', 'Max Error: 1947.7427977890625', 'Mean: 0.3056233771173204', 'Median: 0.0', 'Standard Deviation: 17.691868973735954', 'Minimum: 0.0', 'Maximum: 3619.915039', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210726_predicted.txt\ngenerating prediction for 20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n['Mean Absolute Error (MAE): 0.8107372624203236', 'Mean Squared Error (MSE): 58.147217261073614', 'Root Mean Squared Error (RMSE): 7.625432267161883', 'R-squared (R2) Score: 0.704924498375605', 'Explained Variance Score: 0.7076250846210301', 'Mean Squared Log Error (MSLE): 0.38259206769503756', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 1988.9097896953126', 'Mean: 0.18086898233467844', 'Median: 0.0', 'Standard Deviation: 14.037807255916087', 'Minimum: 0.0', 'Maximum: 3609.103027', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210727_predicted.txt\ngenerating prediction for 20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n['Mean Absolute Error (MAE): 0.8738224231787408', 'Mean Squared Error (MSE): 16.70034049672605', 'Root Mean Squared Error (RMSE): 4.0866050086503405', 'R-squared (R2) Score: 0.8564432337606033', 'Explained Variance Score: 0.8625476887319199', 'Mean Squared Log Error (MSLE): 0.4438409083287861', 'Median Absolute Error (MedAE): 0.00439551193267107', 'Max Error: 469.9580075468748', 'Mean: 0.16265263843147748', 'Median: 0.0', 'Standard Deviation: 10.785796297296027', 'Minimum: 0.0', 'Maximum: 2224.424072', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210728_predicted.txt\ngenerating prediction for 20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n['Mean Absolute Error (MAE): 0.8570861769635449', 'Mean Squared Error (MSE): 44.061213830302144', 'Root Mean Squared Error (RMSE): 6.637862143062489', 'R-squared (R2) Score: 0.7898313170975921', 'Explained Variance Score: 0.792857249002737', 'Mean Squared Log Error (MSLE): 0.4161184712197395', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 1764.0328366015624', 'Mean: 0.2172711726050453', 'Median: 0.0', 'Standard Deviation: 14.479234827795521', 'Minimum: 0.0', 'Maximum: 3471.15332', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210729_predicted.txt\ngenerating prediction for 20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n['Mean Absolute Error (MAE): 1.16094553854619', 'Mean Squared Error (MSE): 145.24793694899245', 'Root Mean Squared Error (RMSE): 12.051885203112102', 'R-squared (R2) Score: 0.6458145305245557', 'Explained Variance Score: 0.6485175187719492', 'Mean Squared Log Error (MSLE): 0.5292370116480953', 'Median Absolute Error (MedAE): 0.005904113873839378', 'Max Error: 4024.26220665625', 'Mean: 0.28142720115898784', 'Median: 0.0', 'Standard Deviation: 20.25074478991796', 'Minimum: 0.0', 'Maximum: 5541.599609', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210730_predicted.txt\ngenerating prediction for 20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n['Mean Absolute Error (MAE): 0.8007645714483196', 'Mean Squared Error (MSE): 27.655156161792785', 'Root Mean Squared Error (RMSE): 5.258816992612767', 'R-squared (R2) Score: 0.7796440773290247', 'Explained Variance Score: 0.7842837170879358', 'Mean Squared Log Error (MSLE): 0.3648510725097912', 'Median Absolute Error (MedAE): 0.002493056934326887', 'Max Error: 589.0214844140626', 'Mean: 0.25519616228380554', 'Median: 0.0', 'Standard Deviation: 11.202812775557293', 'Minimum: 0.0', 'Maximum: 1532.216431', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210731_predicted.txt\ngenerating prediction for 20210801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n['Mean Absolute Error (MAE): 0.6486343201816193', 'Mean Squared Error (MSE): 698.5871599623787', 'Root Mean Squared Error (RMSE): 26.43079945749615', 'R-squared (R2) Score: 0.502866194125132', 'Explained Variance Score: 0.5029608513828147', 'Mean Squared Log Error (MSLE): 0.23876978272115923', 'Median Absolute Error (MedAE): 0.0', 'Max Error: 8264.332397960938', 'Mean: 0.40752644062577714', 'Median: 0.0', 'Standard Deviation: 37.48651224517473', 'Minimum: 0.0', 'Maximum: 9899.054688', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_weighted_xgboost_2020/metrics_20210801_predicted.txt\n",
  "history_begin_time" : 1694208421402,
  "history_end_time" : 1694209282988,
  "history_notes" : "weighted xgboost for july 2021",
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "QErn6AG8L9aV",
  "history_input" : "# create a ML model for wildfire emission forecasting\nimport os\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n#model_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_month_202007.pkl\"\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_year_2020.pkl\"\noutput_folder_name = \"output_xgboost_2020\"\n#output_folder_name = \"output_xgboost_202007\"\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # create output folder\n  output_folder_full_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n  if not os.path.exists(output_folder_full_path):\n    os.makedirs(output_folder_full_path)\n      \n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    print(f\"generating prediction for {date_str}\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    #print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    #print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    #print(\"y_pred_df shape: \", y_pred_df.shape)\n    #print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    #print(\"merged_df shape: \", merged_df.shape)\n    #print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "generating prediction for 20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n20210709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210709.txt\n['Mean Absolute Error (MAE): 93313502.75222334', 'Mean Squared Error (MSE): 1.1892941983836025e+19', 'Root Mean Squared Error (RMSE): 3448614502.062535', 'R-squared (R2) Score: -4724274682671142.0', 'Explained Variance Score: -4720815808049294.0', 'Mean Squared Log Error (MSLE): 140.7209015997476', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 285219946399.6408', 'Mean: 0.4527865538215363', 'Median: 0.0', 'Standard Deviation: 50.1739698027898', 'Minimum: 0.0', 'Maximum: 16156.818359', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210715_predicted.txt\ngenerating prediction for 20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n['Mean Absolute Error (MAE): 100695989.91577582', 'Mean Squared Error (MSE): 1.4930861108397158e+19', 'Root Mean Squared Error (RMSE): 3864047244.586582', 'R-squared (R2) Score: -6590073449233466.0', 'Explained Variance Score: -6585598070989113.0', 'Mean Squared Log Error (MSLE): 140.92493992197737', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 349767565304.5078', 'Mean: 0.38597127211990223', 'Median: 0.0', 'Standard Deviation: 47.59909379644986', 'Minimum: 0.0', 'Maximum: 16915.101562', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210716_predicted.txt\ngenerating prediction for 20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n['Mean Absolute Error (MAE): 108360805.9146554', 'Mean Squared Error (MSE): 1.517813230620055e+19', 'Root Mean Squared Error (RMSE): 3895912255.967856', 'R-squared (R2) Score: -5667585489381121.0', 'Explained Variance Score: -5663200947777857.0', 'Mean Squared Log Error (MSLE): 140.12867739490815', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 330897522679.189', 'Mean: 0.45815916447683025', 'Median: 0.0', 'Standard Deviation: 51.75013792081203', 'Minimum: 0.0', 'Maximum: 15969.007812', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210717_predicted.txt\ngenerating prediction for 20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n['Mean Absolute Error (MAE): 111243659.80125591', 'Mean Squared Error (MSE): 1.7555733559853144e+19', 'Root Mean Squared Error (RMSE): 4189956271.830667', 'R-squared (R2) Score: -4670424375066140.0', 'Explained Variance Score: -4667132162306378.0', 'Mean Squared Log Error (MSLE): 142.6985058433214', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 338685656989.0332', 'Mean: 0.7132855446223089', 'Median: 0.0', 'Standard Deviation: 61.31019574760577', 'Minimum: 0.0', 'Maximum: 13514.680664', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210718_predicted.txt\ngenerating prediction for 20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n['Mean Absolute Error (MAE): 86667252.85528184', 'Mean Squared Error (MSE): 1.0601362395170486e+19', 'Root Mean Squared Error (RMSE): 3255973340.672569', 'R-squared (R2) Score: -7500361982135959.0', 'Explained Variance Score: -7495047871391606.0', 'Mean Squared Log Error (MSLE): 142.90987326079804', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 309940682649.6377', 'Mean: 0.46430615542422926', 'Median: 0.0', 'Standard Deviation: 37.59595427576498', 'Minimum: 0.0', 'Maximum: 8387.192383', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210719_predicted.txt\ngenerating prediction for 20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n['Mean Absolute Error (MAE): 80098926.93815726', 'Mean Squared Error (MSE): 8.967420726637524e+18', 'Root Mean Squared Error (RMSE): 2994565198.2612643', 'R-squared (R2) Score: -4663526554758388.0', 'Explained Variance Score: -4660189984330352.0', 'Mean Squared Log Error (MSLE): 147.6881453011028', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 305017946112.0', 'Mean: 0.50389648040622', 'Median: 0.0', 'Standard Deviation: 43.850841345147174', 'Minimum: 0.0', 'Maximum: 11851.475586', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210720_predicted.txt\ngenerating prediction for 20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n['Mean Absolute Error (MAE): 115661565.57569438', 'Mean Squared Error (MSE): 1.8006169890501208e+19', 'Root Mean Squared Error (RMSE): 4243367753.3889527', 'R-squared (R2) Score: -2.8062714774081136e+16', 'Explained Variance Score: -2.804186571457946e+16', 'Mean Squared Log Error (MSLE): 151.8066916855128', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 422810910694.5296', 'Mean: 0.3414905426205368', 'Median: 0.0', 'Standard Deviation: 25.33070137219841', 'Minimum: 0.0', 'Maximum: 4725.491699', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210721_predicted.txt\ngenerating prediction for 20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n['Mean Absolute Error (MAE): 106931030.45419116', 'Mean Squared Error (MSE): 1.6479983715301276e+19', 'Root Mean Squared Error (RMSE): 4059554620.3125873', 'R-squared (R2) Score: -1.2908457679067048e+16', 'Explained Variance Score: -1.289950145239614e+16', 'Mean Squared Log Error (MSLE): 147.2815860613963', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 376689065883.3682', 'Mean: 0.39796345876285383', 'Median: 0.0', 'Standard Deviation: 35.73078813677705', 'Minimum: 0.0', 'Maximum: 8153.587891', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210722_predicted.txt\ngenerating prediction for 20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n['Mean Absolute Error (MAE): 113344211.80690996', 'Mean Squared Error (MSE): 1.7248581633817141e+19', 'Root Mean Squared Error (RMSE): 4153141176.726014', 'R-squared (R2) Score: -1.3678725583239128e+16', 'Explained Variance Score: -1.366853753628556e+16', 'Mean Squared Log Error (MSLE): 142.05028410544864', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 482164965282.0792', 'Mean: 0.4618754229413305', 'Median: 0.0', 'Standard Deviation: 35.51037511889856', 'Minimum: 0.0', 'Maximum: 6458.900879', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210723_predicted.txt\ngenerating prediction for 20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n['Mean Absolute Error (MAE): 91647421.3761568', 'Mean Squared Error (MSE): 1.4217614748684026e+19', 'Root Mean Squared Error (RMSE): 3770625246.386072', 'R-squared (R2) Score: -7.374436766900346e+16', 'Explained Variance Score: -7.370080217818648e+16', 'Mean Squared Log Error (MSLE): 139.75123197649017', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 582574800796.148', 'Mean: 0.25003795589088407', 'Median: 0.0', 'Standard Deviation: 13.885142057856433', 'Minimum: 0.0', 'Maximum: 2124.051025', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210724_predicted.txt\ngenerating prediction for 20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n['Mean Absolute Error (MAE): 104210539.68914638', 'Mean Squared Error (MSE): 1.4838562281537452e+19', 'Root Mean Squared Error (RMSE): 3852085445.773166', 'R-squared (R2) Score: -4.820107119459394e+16', 'Explained Variance Score: -4.8165794478111224e+16', 'Mean Squared Log Error (MSLE): 141.7642674931107', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 362976968466.5564', 'Mean: 0.31645865549754254', 'Median: 0.0', 'Standard Deviation: 17.545629376636203', 'Minimum: 0.0', 'Maximum: 3373.57251', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210725_predicted.txt\ngenerating prediction for 20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n['Mean Absolute Error (MAE): 117614315.90272252', 'Mean Squared Error (MSE): 1.731176889889583e+19', 'Root Mean Squared Error (RMSE): 4160741388.129744', 'R-squared (R2) Score: -5.530912474946826e+16', 'Explained Variance Score: -5.5264929487534136e+16', 'Mean Squared Log Error (MSLE): 141.19667734918792', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 408187764720.31885', 'Mean: 0.3056233771173204', 'Median: 0.0', 'Standard Deviation: 17.691868973735954', 'Minimum: 0.0', 'Maximum: 3619.915039', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210726_predicted.txt\ngenerating prediction for 20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n['Mean Absolute Error (MAE): 106789598.87981963', 'Mean Squared Error (MSE): 1.456425483154261e+19', 'Root Mean Squared Error (RMSE): 3816314299.365634', 'R-squared (R2) Score: -7.390817656685925e+16', 'Explained Variance Score: -7.385030541482885e+16', 'Mean Squared Log Error (MSLE): 142.27074626914572', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 388069162845.0072', 'Mean: 0.18086898233467844', 'Median: 0.0', 'Standard Deviation: 14.037807255916087', 'Minimum: 0.0', 'Maximum: 3609.103027', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210727_predicted.txt\ngenerating prediction for 20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n['Mean Absolute Error (MAE): 117829770.95724623', 'Mean Squared Error (MSE): 1.848609243733829e+19', 'Root Mean Squared Error (RMSE): 4299545608.240281', 'R-squared (R2) Score: -1.5890715828381507e+17', 'Explained Variance Score: -1.5878781213552493e+17', 'Mean Squared Log Error (MSLE): 144.95674045214844', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 418115289088.0', 'Mean: 0.16265263843147748', 'Median: 0.0', 'Standard Deviation: 10.785796297296027', 'Minimum: 0.0', 'Maximum: 2224.424072', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210728_predicted.txt\ngenerating prediction for 20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n['Mean Absolute Error (MAE): 118666374.97632697', 'Mean Squared Error (MSE): 1.6600570197298844e+19', 'Root Mean Squared Error (RMSE): 4074379731.603185', 'R-squared (R2) Score: -7.918347386507616e+16', 'Explained Variance Score: -7.911630517243909e+16', 'Mean Squared Log Error (MSLE): 147.93735087982964', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 305193713664.0', 'Mean: 0.2172711726050453', 'Median: 0.0', 'Standard Deviation: 14.479234827795521', 'Minimum: 0.0', 'Maximum: 3471.15332', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210729_predicted.txt\ngenerating prediction for 20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n['Mean Absolute Error (MAE): 109870313.8544913', 'Mean Squared Error (MSE): 1.3725040995645139e+19', 'Root Mean Squared Error (RMSE): 3704732243.4482546', 'R-squared (R2) Score: -3.346835893661906e+16', 'Explained Variance Score: -3.343892275350274e+16', 'Mean Squared Log Error (MSLE): 144.96985385190575', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 251724644252.84348', 'Mean: 0.28142720115898784', 'Median: 0.0', 'Standard Deviation: 20.25074478991796', 'Minimum: 0.0', 'Maximum: 5541.599609', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210730_predicted.txt\ngenerating prediction for 20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n['Mean Absolute Error (MAE): 136062695.76718834', 'Mean Squared Error (MSE): 2.160992505510385e+19', 'Root Mean Squared Error (RMSE): 4648647658.739458', 'R-squared (R2) Score: -1.7218760026193024e+17', 'Explained Variance Score: -1.7204008846474525e+17', 'Mean Squared Log Error (MSLE): 141.44537580533716', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 466351226861.9088', 'Mean: 0.25519616228380554', 'Median: 0.0', 'Standard Deviation: 11.202812775557293', 'Minimum: 0.0', 'Maximum: 1532.216431', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210731_predicted.txt\ngenerating prediction for 20210801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n['Mean Absolute Error (MAE): 119810447.48001279', 'Mean Squared Error (MSE): 1.5804089499737928e+19', 'Root Mean Squared Error (RMSE): 3975435762.2451816', 'R-squared (R2) Score: -1.1246624060217288e+16', 'Explained Variance Score: -1.1236408973047652e+16', 'Mean Squared Log Error (MSLE): 145.24103073555185', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 300275531776.0', 'Mean: 0.40752644062577714', 'Median: 0.0', 'Standard Deviation: 37.48651224517473', 'Minimum: 0.0', 'Maximum: 9899.054688', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/output_xgboost_2020/metrics_20210801_predicted.txt\n",
  "history_begin_time" : 1693956185330,
  "history_end_time" : 1693956672232,
  "history_notes" : "this is corrupted one year model results. look away",
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "Fh18kZDbioP4",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n#model_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_month_202007.pkl\"\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_year_2020.pkl\"\noutput_folder_name = \"output_xgboost_2020\"\n#output_folder_name = \"output_xgboost_202007\"\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # create output folder\n  output_folder_full_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n  if not os.path.exists(output_folder_full_path):\n    os.makedirs(output_folder_full_path)\n      \n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    #print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    #print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    #print(\"y_pred_df shape: \", y_pred_df.shape)\n    #print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    #print(\"merged_df shape: \", merged_df.shape)\n    #print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "Traceback (most recent call last):\n  File \"fc_model_predict.py\", line 122, in <module>\n    predict(start_date, end_date)\n  File \"fc_model_predict.py\", line 43, in predict\n    if not os.path.exists(output_folder_full_path):\nNameError: name 'os' is not defined\n",
  "history_begin_time" : 1693956143627,
  "history_end_time" : 1693956148373,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "pvD9ti63DcYI",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n#model_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_month_202007.pkl\"\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_year_2020.pkl\"\noutput_folder_name = \"output_xgboost_2020\"\n#output_folder_name = \"output_xgboost_202007\"\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # create output folder\n  output_folder_full_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n  if not os.path.exists(output_folder_full_path):\n    os.makedirs(output_folder_full_path)\n      \n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    #print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    #print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    #print(\"y_pred_df shape: \", y_pred_df.shape)\n    #print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    #print(\"merged_df shape: \", merged_df.shape)\n    #print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/{output_folder_name}/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "",
  "history_begin_time" : 1693956013675,
  "history_end_time" : 1693956126344,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "oDUm65WicaNV",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_month_202007.pkl\"\n\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    #print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    #print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    #print(\"y_pred_df shape: \", y_pred_df.shape)\n    #print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    #print(\"merged_df shape: \", merged_df.shape)\n    #print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "training on 20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\n20200629\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200629.txt\n20200628\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200628.txt\n20200627\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200627.txt\n20200626\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200626.txt\ntraining on 20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\n20200629\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200629.txt\n20200628\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200628.txt\n20200627\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200627.txt\ntraining on 20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\n20200629\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200629.txt\n20200628\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200628.txt\ntraining on 20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\n20200629\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200629.txt\ntraining on 20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\n20200630\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200630.txt\ntraining on 20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\n20200701\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200701.txt\ntraining on 20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\n20200702\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200702.txt\ntraining on 20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\n20200703\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200703.txt\ntraining on 20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\n20200704\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200704.txt\ntraining on 20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\n20200705\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200705.txt\ntraining on 20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\n20200706\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200706.txt\ntraining on 20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\n20200707\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200707.txt\ntraining on 20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\n20200708\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200708.txt\ntraining on 20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\n20200709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200709.txt\ntraining on 20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\n20200710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200710.txt\ntraining on 20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\n20200711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200711.txt\ntraining on 20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\n20200712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200712.txt\ntraining on 20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\n20200713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200713.txt\ntraining on 20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\n20200714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200714.txt\ntraining on 20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\n20200715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200715.txt\ntraining on 20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\n20200716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200716.txt\ntraining on 20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\n20200717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200717.txt\ntraining on 20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\n20200718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200718.txt\ntraining on 20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\n20200719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200719.txt\ntraining on 20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\n20200720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200720.txt\ntraining on 20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\n20200721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200721.txt\ntraining on 20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\n20200722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200722.txt\ntraining on 20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\n20200723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200723.txt\ntraining on 20200730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200730.txt\n20200730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200730.txt\n20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\n20200724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200724.txt\ntraining on 20200731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200731.txt\n20200731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200731.txt\n20200730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200730.txt\n20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\n20200725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200725.txt\ntraining on 20200801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200801.txt\n20200801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200801.txt\n20200731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200731.txt\n20200730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200730.txt\n20200729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200729.txt\n20200728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200728.txt\n20200727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200727.txt\n20200726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200726.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n20210709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210709.txt\n['Mean Absolute Error (MAE): 0.3028670437614778', 'Mean Squared Error (MSE): 1983.095409563747', 'Root Mean Squared Error (RMSE): 44.53195941752111', 'R-squared (R2) Score: 0.21224811745852512', 'Explained Variance Score: 0.21227291011634264', 'Mean Squared Log Error (MSLE): 0.0040746396820054605', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 15220.642333609376', 'Mean: 0.4527865538215363', 'Median: 0.0', 'Standard Deviation: 50.1739698027898', 'Minimum: 0.0', 'Maximum: 16156.818359', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210715_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n['Mean Absolute Error (MAE): 0.2494785755261976', 'Mean Squared Error (MSE): 1828.4457845741395', 'Root Mean Squared Error (RMSE): 42.76032956578024', 'R-squared (R2) Score: 0.19297407357783491', 'Explained Variance Score: 0.1929944467357595', 'Mean Squared Log Error (MSLE): 0.0042069113705277324', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 15978.692626453125', 'Mean: 0.38597127211990223', 'Median: 0.0', 'Standard Deviation: 47.59909379644986', 'Minimum: 0.0', 'Maximum: 16915.101562', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210716_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n['Mean Absolute Error (MAE): 0.32231371788976937', 'Mean Squared Error (MSE): 2202.666987437693', 'Root Mean Squared Error (RMSE): 46.93257916882145', 'R-squared (R2) Score: 0.17751385980205003', 'Explained Variance Score: 0.17754447916733396', 'Mean Squared Log Error (MSLE): 0.003506635804801676', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 15433.956420398437', 'Mean: 0.45815916447683025', 'Median: 0.0', 'Standard Deviation: 51.75013792081203', 'Minimum: 0.0', 'Maximum: 15969.007812', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210717_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n['Mean Absolute Error (MAE): 0.48434405644354417', 'Mean Squared Error (MSE): 2840.6070912083856', 'Root Mean Squared Error (RMSE): 53.29734600529735', 'R-squared (R2) Score: 0.2443015523370501', 'Explained Variance Score: 0.2443556119537822', 'Mean Squared Log Error (MSLE): 0.004075616625329049', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 12590.630248960937', 'Mean: 0.7132855446223089', 'Median: 0.0', 'Standard Deviation: 61.31019574760577', 'Minimum: 0.0', 'Maximum: 13514.680664', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210718_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n['Mean Absolute Error (MAE): 0.2905404996400278', 'Mean Squared Error (MSE): 845.1421809718983', 'Root Mean Squared Error (RMSE): 29.071329191695007', 'R-squared (R2) Score: 0.4020700314377701', 'Explained Variance Score: 0.40211774210315265', 'Mean Squared Log Error (MSLE): 0.0035185561227034593', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 7258.45947284375', 'Mean: 0.46430615542422926', 'Median: 0.0', 'Standard Deviation: 37.59595427576498', 'Minimum: 0.0', 'Maximum: 8387.192383', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210719_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n['Mean Absolute Error (MAE): 0.3252410626986734', 'Mean Squared Error (MSE): 1413.3216828838756', 'Root Mean Squared Error (RMSE): 37.59417086309892', 'R-squared (R2) Score: 0.26499900032947454', 'Explained Variance Score: 0.26504615420893507', 'Mean Squared Log Error (MSLE): 0.004789357213291855', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 11002.186645570313', 'Mean: 0.50389648040622', 'Median: 0.0', 'Standard Deviation: 43.850841345147174', 'Minimum: 0.0', 'Maximum: 11851.475586', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210720_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n['Mean Absolute Error (MAE): 0.1964987021173226', 'Mean Squared Error (MSE): 339.6530382097398', 'Root Mean Squared Error (RMSE): 18.429678190617974', 'R-squared (R2) Score: 0.4706488725035186', 'Explained Variance Score: 0.47069270505319993', 'Mean Squared Log Error (MSLE): 0.0031299298630363473', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 3937.890868921875', 'Mean: 0.3414905426205368', 'Median: 0.0', 'Standard Deviation: 25.33070137219841', 'Minimum: 0.0', 'Maximum: 4725.491699', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210721_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n['Mean Absolute Error (MAE): 0.2565981543190361', 'Mean Squared Error (MSE): 875.4784986516952', 'Root Mean Squared Error (RMSE): 29.588485913471395', 'R-squared (R2) Score: 0.3142543497609296', 'Explained Variance Score: 0.3142925338644823', 'Mean Squared Log Error (MSLE): 0.003485211731912998', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 7308.106079476563', 'Mean: 0.39796345876285383', 'Median: 0.0', 'Standard Deviation: 35.73078813677705', 'Minimum: 0.0', 'Maximum: 8153.587891', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210722_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n['Mean Absolute Error (MAE): 0.2894476351238314', 'Mean Squared Error (MSE): 807.8956056102209', 'Root Mean Squared Error (RMSE): 28.42350445687901', 'R-squared (R2) Score: 0.35931066544157375', 'Explained Variance Score: 0.35935315547870383', 'Mean Squared Log Error (MSLE): 0.0033479301797969168', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 5659.574585054687', 'Mean: 0.4618754229413305', 'Median: 0.0', 'Standard Deviation: 35.51037511889856', 'Minimum: 0.0', 'Maximum: 6458.900879', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210723_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n['Mean Absolute Error (MAE): 0.10718328449054368', 'Mean Squared Error (MSE): 53.89064996499856', 'Root Mean Squared Error (RMSE): 7.341025130388709', 'R-squared (R2) Score: 0.7204782957487109', 'Explained Variance Score: 0.7205090688660762', 'Mean Squared Log Error (MSLE): 0.003313755157845008', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 1318.9906009609376', 'Mean: 0.25003795589088407', 'Median: 0.0', 'Standard Deviation: 13.885142057856433', 'Minimum: 0.0', 'Maximum: 2124.051025', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210724_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n['Mean Absolute Error (MAE): 0.12237510042835732', 'Mean Squared Error (MSE): 94.69550208294069', 'Root Mean Squared Error (RMSE): 9.731161394352716', 'R-squared (R2) Score: 0.6923944145595005', 'Explained Variance Score: 0.6924100928421064', 'Mean Squared Log Error (MSLE): 0.0022696316545722187', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 2289.18725609375', 'Mean: 0.31645865549754254', 'Median: 0.0', 'Standard Deviation: 17.545629376636203', 'Minimum: 0.0', 'Maximum: 3373.57251', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210725_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n['Mean Absolute Error (MAE): 0.11994359335794573', 'Mean Squared Error (MSE): 91.00321249122744', 'Root Mean Squared Error (RMSE): 9.53956039297553', 'R-squared (R2) Score: 0.7092551280186798', 'Explained Variance Score: 0.7092765441979738', 'Mean Squared Log Error (MSLE): 0.0032074669866952424', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 2517.77490228125', 'Mean: 0.3056233771173204', 'Median: 0.0', 'Standard Deviation: 17.691868973735954', 'Minimum: 0.0', 'Maximum: 3619.915039', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210726_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n['Mean Absolute Error (MAE): 0.07639708422811997', 'Mean Squared Error (MSE): 84.9130894150954', 'Root Mean Squared Error (RMSE): 9.214829863600054', 'R-squared (R2) Score: 0.5690976518938275', 'Explained Variance Score: 0.5691160611994316', 'Mean Squared Log Error (MSLE): 0.002926096280171516', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 2706.695556296875', 'Mean: 0.18086898233467844', 'Median: 0.0', 'Standard Deviation: 14.037807255916087', 'Minimum: 0.0', 'Maximum: 3609.103027', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210727_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n['Mean Absolute Error (MAE): 0.06113038639880358', 'Mean Squared Error (MSE): 20.578945327763545', 'Root Mean Squared Error (RMSE): 4.536402244925327', 'R-squared (R2) Score: 0.8231025981506047', 'Explained Variance Score: 0.8231117460621376', 'Mean Squared Log Error (MSLE): 0.0034832599066344115', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 1117.7810055937498', 'Mean: 0.16265263843147748', 'Median: 0.0', 'Standard Deviation: 10.785796297296027', 'Minimum: 0.0', 'Maximum: 2224.424072', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210728_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n['Mean Absolute Error (MAE): 0.09111827090050452', 'Mean Squared Error (MSE): 69.18640831134556', 'Root Mean Squared Error (RMSE): 8.317836756714186', 'R-squared (R2) Score: 0.6699860252251252', 'Explained Variance Score: 0.6699944639096782', 'Mean Squared Log Error (MSLE): 0.002898596116141558', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 2425.1171871875', 'Mean: 0.2172711726050453', 'Median: 0.0', 'Standard Deviation: 14.479234827795521', 'Minimum: 0.0', 'Maximum: 3471.15332', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210729_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n['Mean Absolute Error (MAE): 0.13303077585352355', 'Mean Squared Error (MSE): 192.62361455331265', 'Root Mean Squared Error (RMSE): 13.878890969861844', 'R-squared (R2) Score: 0.5302894706409438', 'Explained Variance Score: 0.5303155581279311', 'Mean Squared Log Error (MSLE): 0.003537582756642819', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 4487.48974571875', 'Mean: 0.28142720115898784', 'Median: 0.0', 'Standard Deviation: 20.25074478991796', 'Minimum: 0.0', 'Maximum: 5541.599609', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210730_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n['Mean Absolute Error (MAE): 0.10572992329329459', 'Mean Squared Error (MSE): 33.46246636606771', 'Root Mean Squared Error (RMSE): 5.784675130555536', 'R-squared (R2) Score: 0.7333715055592976', 'Explained Variance Score: 0.7333803235980334', 'Mean Squared Log Error (MSLE): 0.003977339501202113', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 1049.912383828125', 'Mean: 0.25519616228380554', 'Median: 0.0', 'Standard Deviation: 11.202812775557293', 'Minimum: 0.0', 'Maximum: 1532.216431', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210731_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n['Mean Absolute Error (MAE): 0.245945462130712', 'Mean Squared Error (MSE): 926.8180224549707', 'Root Mean Squared Error (RMSE): 30.443686085212654', 'R-squared (R2) Score: 0.34045084527280534', 'Explained Variance Score: 0.34047539776154534', 'Mean Squared Log Error (MSLE): 0.0039069963784698', 'Median Absolute Error (MedAE): 2.807111741276458e-05', 'Max Error: 8997.962036632813', 'Mean: 0.40752644062577714', 'Median: 0.0', 'Standard Deviation: 37.48651224517473', 'Minimum: 0.0', 'Maximum: 9899.054688', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210801_predicted.txt\n",
  "history_begin_time" : 1693747204443,
  "history_end_time" : 1693747825293,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "qZ4RK73n3juB",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1.pkl\"\n\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    #print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    #print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    #print(\"y_pred_df shape: \", y_pred_df.shape)\n    #print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    #print(\"merged_df shape: \", merged_df.shape)\n    #print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "Reading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n20210709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210709.txt\n['Mean Absolute Error (MAE): 0.33122720721605436', 'Mean Squared Error (MSE): 835.0728034930712', 'Root Mean Squared Error (RMSE): 28.897626260526508', 'R-squared (R2) Score: 0.6682811276560983', 'Explained Variance Score: 0.6682872547106783', 'Mean Squared Log Error (MSLE): 0.009288748449440595', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 8718.646484', 'Mean: 0.4527865538215363', 'Median: 0.0', 'Standard Deviation: 50.1739698027898', 'Minimum: 0.0', 'Maximum: 16156.818359', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210715_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n['Mean Absolute Error (MAE): 0.3622520021752377', 'Mean Squared Error (MSE): 1004.8814538787673', 'Root Mean Squared Error (RMSE): 31.69986520284853', 'R-squared (R2) Score: 0.5564728289442582', 'Explained Variance Score: 0.5564860405795307', 'Mean Squared Log Error (MSLE): 0.011206227005580455', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 9769.8603510625', 'Mean: 0.38597127211990223', 'Median: 0.0', 'Standard Deviation: 47.59909379644986', 'Minimum: 0.0', 'Maximum: 16915.101562', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210716_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n['Mean Absolute Error (MAE): 0.36804591419932353', 'Mean Squared Error (MSE): 1121.8227895238185', 'Root Mean Squared Error (RMSE): 33.493623117301276', 'R-squared (R2) Score: 0.5811061311565406', 'Explained Variance Score: 0.5811096804542566', 'Mean Squared Log Error (MSLE): 0.012846082614961398', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 10251.8193354375', 'Mean: 0.45815916447683025', 'Median: 0.0', 'Standard Deviation: 51.75013792081203', 'Minimum: 0.0', 'Maximum: 15969.007812', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210717_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n['Mean Absolute Error (MAE): 0.5062154445337955', 'Mean Squared Error (MSE): 1258.7678170642703', 'Root Mean Squared Error (RMSE): 35.47911804236783', 'R-squared (R2) Score: 0.6651247938274734', 'Explained Variance Score: 0.6651384398450242', 'Mean Squared Log Error (MSLE): 0.008785988655059977', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 7153.9326171249995', 'Mean: 0.7132855446223089', 'Median: 0.0', 'Standard Deviation: 61.31019574760577', 'Minimum: 0.0', 'Maximum: 13514.680664', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210718_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n['Mean Absolute Error (MAE): 0.30570128044007555', 'Mean Squared Error (MSE): 439.0977631455225', 'Root Mean Squared Error (RMSE): 20.954659700064862', 'R-squared (R2) Score: 0.6893425536855582', 'Explained Variance Score: 0.6893690124554666', 'Mean Squared Log Error (MSLE): 0.011266272192149348', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3285.2675783124996', 'Mean: 0.46430615542422926', 'Median: 0.0', 'Standard Deviation: 37.59595427576498', 'Minimum: 0.0', 'Maximum: 8387.192383', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210719_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n['Mean Absolute Error (MAE): 0.39560193144946737', 'Mean Squared Error (MSE): 740.4715212082209', 'Root Mean Squared Error (RMSE): 27.211606369492795', 'R-squared (R2) Score: 0.6149161829845677', 'Explained Variance Score: 0.6149316360686227', 'Mean Squared Log Error (MSLE): 0.010297826657455975', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 6533.6972656875005', 'Mean: 0.50389648040622', 'Median: 0.0', 'Standard Deviation: 43.850841345147174', 'Minimum: 0.0', 'Maximum: 11851.475586', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210720_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n['Mean Absolute Error (MAE): 0.27330231068078614', 'Mean Squared Error (MSE): 276.08711732640324', 'Root Mean Squared Error (RMSE): 16.61586944238559', 'R-squared (R2) Score: 0.5697167096920317', 'Explained Variance Score: 0.5697359235187265', 'Mean Squared Log Error (MSLE): 0.013389352332730689', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2990.7900387500003', 'Mean: 0.3414905426205368', 'Median: 0.0', 'Standard Deviation: 25.33070137219841', 'Minimum: 0.0', 'Maximum: 4725.491699', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210721_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n['Mean Absolute Error (MAE): 0.3036565093877293', 'Mean Squared Error (MSE): 400.4198156816232', 'Root Mean Squared Error (RMSE): 20.010492639653407', 'R-squared (R2) Score: 0.6863587771760387', 'Explained Variance Score: 0.6863750029860946', 'Mean Squared Log Error (MSLE): 0.010263955459099392', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3937.2529300625', 'Mean: 0.39796345876285383', 'Median: 0.0', 'Standard Deviation: 35.73078813677705', 'Minimum: 0.0', 'Maximum: 8153.587891', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210722_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n['Mean Absolute Error (MAE): 0.34294789595182296', 'Mean Squared Error (MSE): 423.7782229747591', 'Root Mean Squared Error (RMSE): 20.5858743553622', 'R-squared (R2) Score: 0.6639291193161357', 'Explained Variance Score: 0.6639589845005365', 'Mean Squared Log Error (MSLE): 0.011539152673644328', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3802.8530275625', 'Mean: 0.4618754229413305', 'Median: 0.0', 'Standard Deviation: 35.51037511889856', 'Minimum: 0.0', 'Maximum: 6458.900879', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210723_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n['Mean Absolute Error (MAE): 0.26596948708578694', 'Mean Squared Error (MSE): 201.94402173546865', 'Root Mean Squared Error (RMSE): 14.210700958625111', 'R-squared (R2) Score: -0.04744955118410732', 'Explained Variance Score: -0.04741723469611725', 'Mean Squared Log Error (MSLE): 0.01219220783490379', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2092.688232734375', 'Mean: 0.25003795589088407', 'Median: 0.0', 'Standard Deviation: 13.885142057856433', 'Minimum: 0.0', 'Maximum: 2124.051025', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210724_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n['Mean Absolute Error (MAE): 0.3153361048693167', 'Mean Squared Error (MSE): 363.0522418177147', 'Root Mean Squared Error (RMSE): 19.053929826094002', 'R-squared (R2) Score: -0.17932631364063933', 'Explained Variance Score: -0.17922545371044096', 'Mean Squared Log Error (MSLE): 0.010627532482936979', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3303.2204589375', 'Mean: 0.31645865549754254', 'Median: 0.0', 'Standard Deviation: 17.545629376636203', 'Minimum: 0.0', 'Maximum: 3373.57251', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210725_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n['Mean Absolute Error (MAE): 0.3130728039002749', 'Mean Squared Error (MSE): 399.10841552707996', 'Root Mean Squared Error (RMSE): 19.977697953645208', 'R-squared (R2) Score: -0.27510581222914854', 'Explained Variance Score: -0.27496516685352', 'Mean Squared Log Error (MSLE): 0.010337600577444707', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 4367.2207031875005', 'Mean: 0.3056233771173204', 'Median: 0.0', 'Standard Deviation: 17.691868973735954', 'Minimum: 0.0', 'Maximum: 3619.915039', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210726_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n['Mean Absolute Error (MAE): 0.2306648935953739', 'Mean Squared Error (MSE): 257.98485671643067', 'Root Mean Squared Error (RMSE): 16.061907007464296', 'R-squared (R2) Score: -0.30917719871798566', 'Explained Variance Score: -0.309050245576759', 'Mean Squared Log Error (MSLE): 0.011282486583812194', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3718.70556675', 'Mean: 0.18086898233467844', 'Median: 0.0', 'Standard Deviation: 14.037807255916087', 'Minimum: 0.0', 'Maximum: 3609.103027', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210727_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n['Mean Absolute Error (MAE): 0.21222469398332036', 'Mean Squared Error (MSE): 179.91000411239574', 'Root Mean Squared Error (RMSE): 13.413053496963164', 'R-squared (R2) Score: -0.5465132827414694', 'Explained Variance Score: -0.546350475667257', 'Mean Squared Log Error (MSLE): 0.01064894958080287', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2686.5405270624997', 'Mean: 0.16265263843147748', 'Median: 0.0', 'Standard Deviation: 10.785796297296027', 'Minimum: 0.0', 'Maximum: 2224.424072', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210728_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n['Mean Absolute Error (MAE): 0.23999772187509652', 'Mean Squared Error (MSE): 243.58552011553735', 'Root Mean Squared Error (RMSE): 15.607226535023363', 'R-squared (R2) Score: -0.16188464834286642', 'Explained Variance Score: -0.16177939696694144', 'Mean Squared Log Error (MSLE): 0.011463199486289292', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2606.6816409375', 'Mean: 0.2172711726050453', 'Median: 0.0', 'Standard Deviation: 14.479234827795521', 'Minimum: 0.0', 'Maximum: 3471.15332', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210729_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n['Mean Absolute Error (MAE): 0.2474253798036777', 'Mean Squared Error (MSE): 317.4934320116245', 'Root Mean Squared Error (RMSE): 17.818345378054172', 'R-squared (R2) Score: 0.22579581758949496', 'Explained Variance Score: 0.22585800914623044', 'Mean Squared Log Error (MSLE): 0.010376762911362183', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3565.3662111875', 'Mean: 0.28142720115898784', 'Median: 0.0', 'Standard Deviation: 20.25074478991796', 'Minimum: 0.0', 'Maximum: 5541.599609', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210730_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n['Mean Absolute Error (MAE): 0.27329208441583164', 'Mean Squared Error (MSE): 238.85129692648772', 'Root Mean Squared Error (RMSE): 15.454814684314002', 'R-squared (R2) Score: -0.9031640106270618', 'Explained Variance Score: -0.9030339470322126', 'Mean Squared Log Error (MSLE): 0.011133465319310856', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2685.9488525781253', 'Mean: 0.25519616228380554', 'Median: 0.0', 'Standard Deviation: 11.202812775557293', 'Minimum: 0.0', 'Maximum: 1532.216431', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210731_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n['Mean Absolute Error (MAE): 0.3172930373073772', 'Mean Squared Error (MSE): 471.4383304900298', 'Root Mean Squared Error (RMSE): 21.7126306671953', 'R-squared (R2) Score: 0.6645115385681812', 'Explained Variance Score: 0.6645454097471786', 'Mean Squared Log Error (MSLE): 0.0111782385226748', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2989.9858394374996', 'Mean: 0.40752644062577714', 'Median: 0.0', 'Standard Deviation: 37.48651224517473', 'Minimum: 0.0', 'Maximum: 9899.054688', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210801_predicted.txt\n",
  "history_begin_time" : 1693628805719,
  "history_end_time" : 1693628910216,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "Tnk5GWaIpK8v",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v2_one_year_2020.pkl\"\n\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    print(\"y_pred_df shape: \", y_pred_df.shape)\n    print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    print(\"merged_df shape: \", merged_df.shape)\n    print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "Reading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n20210709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210709.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 93313502.75222334', 'Mean Squared Error (MSE): 1.1892941983836025e+19', 'Root Mean Squared Error (RMSE): 3448614502.062535', 'R-squared (R2) Score: -4724274682671142.0', 'Explained Variance Score: -4720815808049294.0', 'Mean Squared Log Error (MSLE): 140.7209015997476', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 285219946399.6408', 'Mean: 0.4527865538215363', 'Median: 0.0', 'Standard Deviation: 50.1739698027898', 'Minimum: 0.0', 'Maximum: 16156.818359', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210715_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 100695989.91577582', 'Mean Squared Error (MSE): 1.4930861108397158e+19', 'Root Mean Squared Error (RMSE): 3864047244.586582', 'R-squared (R2) Score: -6590073449233466.0', 'Explained Variance Score: -6585598070989113.0', 'Mean Squared Log Error (MSLE): 140.92493992197737', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 349767565304.5078', 'Mean: 0.38597127211990223', 'Median: 0.0', 'Standard Deviation: 47.59909379644986', 'Minimum: 0.0', 'Maximum: 16915.101562', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210716_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 108360805.9146554', 'Mean Squared Error (MSE): 1.517813230620055e+19', 'Root Mean Squared Error (RMSE): 3895912255.967856', 'R-squared (R2) Score: -5667585489381121.0', 'Explained Variance Score: -5663200947777857.0', 'Mean Squared Log Error (MSLE): 140.12867739490815', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 330897522679.189', 'Mean: 0.45815916447683025', 'Median: 0.0', 'Standard Deviation: 51.75013792081203', 'Minimum: 0.0', 'Maximum: 15969.007812', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210717_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 111243659.80125591', 'Mean Squared Error (MSE): 1.7555733559853144e+19', 'Root Mean Squared Error (RMSE): 4189956271.830667', 'R-squared (R2) Score: -4670424375066140.0', 'Explained Variance Score: -4667132162306378.0', 'Mean Squared Log Error (MSLE): 142.6985058433214', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 338685656989.0332', 'Mean: 0.7132855446223089', 'Median: 0.0', 'Standard Deviation: 61.31019574760577', 'Minimum: 0.0', 'Maximum: 13514.680664', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210718_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 86667252.85528184', 'Mean Squared Error (MSE): 1.0601362395170486e+19', 'Root Mean Squared Error (RMSE): 3255973340.672569', 'R-squared (R2) Score: -7500361982135959.0', 'Explained Variance Score: -7495047871391606.0', 'Mean Squared Log Error (MSLE): 142.90987326079804', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 309940682649.6377', 'Mean: 0.46430615542422926', 'Median: 0.0', 'Standard Deviation: 37.59595427576498', 'Minimum: 0.0', 'Maximum: 8387.192383', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210719_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 80098926.93815726', 'Mean Squared Error (MSE): 8.967420726637524e+18', 'Root Mean Squared Error (RMSE): 2994565198.2612643', 'R-squared (R2) Score: -4663526554758388.0', 'Explained Variance Score: -4660189984330352.0', 'Mean Squared Log Error (MSLE): 147.6881453011028', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 305017946112.0', 'Mean: 0.50389648040622', 'Median: 0.0', 'Standard Deviation: 43.850841345147174', 'Minimum: 0.0', 'Maximum: 11851.475586', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210720_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 115661565.57569438', 'Mean Squared Error (MSE): 1.8006169890501208e+19', 'Root Mean Squared Error (RMSE): 4243367753.3889527', 'R-squared (R2) Score: -2.8062714774081136e+16', 'Explained Variance Score: -2.804186571457946e+16', 'Mean Squared Log Error (MSLE): 151.8066916855128', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 422810910694.5296', 'Mean: 0.3414905426205368', 'Median: 0.0', 'Standard Deviation: 25.33070137219841', 'Minimum: 0.0', 'Maximum: 4725.491699', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210721_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 106931030.45419116', 'Mean Squared Error (MSE): 1.6479983715301276e+19', 'Root Mean Squared Error (RMSE): 4059554620.3125873', 'R-squared (R2) Score: -1.2908457679067048e+16', 'Explained Variance Score: -1.289950145239614e+16', 'Mean Squared Log Error (MSLE): 147.2815860613963', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 376689065883.3682', 'Mean: 0.39796345876285383', 'Median: 0.0', 'Standard Deviation: 35.73078813677705', 'Minimum: 0.0', 'Maximum: 8153.587891', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210722_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 113344211.80690996', 'Mean Squared Error (MSE): 1.7248581633817141e+19', 'Root Mean Squared Error (RMSE): 4153141176.726014', 'R-squared (R2) Score: -1.3678725583239128e+16', 'Explained Variance Score: -1.366853753628556e+16', 'Mean Squared Log Error (MSLE): 142.05028410544864', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 482164965282.0792', 'Mean: 0.4618754229413305', 'Median: 0.0', 'Standard Deviation: 35.51037511889856', 'Minimum: 0.0', 'Maximum: 6458.900879', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210723_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 91647421.3761568', 'Mean Squared Error (MSE): 1.4217614748684026e+19', 'Root Mean Squared Error (RMSE): 3770625246.386072', 'R-squared (R2) Score: -7.374436766900346e+16', 'Explained Variance Score: -7.370080217818648e+16', 'Mean Squared Log Error (MSLE): 139.75123197649017', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 582574800796.148', 'Mean: 0.25003795589088407', 'Median: 0.0', 'Standard Deviation: 13.885142057856433', 'Minimum: 0.0', 'Maximum: 2124.051025', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210724_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 104210539.68914638', 'Mean Squared Error (MSE): 1.4838562281537452e+19', 'Root Mean Squared Error (RMSE): 3852085445.773166', 'R-squared (R2) Score: -4.820107119459394e+16', 'Explained Variance Score: -4.8165794478111224e+16', 'Mean Squared Log Error (MSLE): 141.7642674931107', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 362976968466.5564', 'Mean: 0.31645865549754254', 'Median: 0.0', 'Standard Deviation: 17.545629376636203', 'Minimum: 0.0', 'Maximum: 3373.57251', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210725_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\ny_pred :  [26846364.   26846364.   26846444.   ...   123551.74   123551.74\n   123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0     26846364.0\n1     26846364.0\n2     26846444.0\n3     26846444.0\n4     26846508.0\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0     26846364.0\n1  24.5 -125.899994 -999.0  ...        0.0        0.0     26846364.0\n2  24.5 -125.800003 -999.0  ...        0.0        0.0     26846444.0\n3  24.5 -125.699997 -999.0  ...        0.0        0.0     26846444.0\n4  24.5 -125.599998 -999.0  ...        0.0        0.0     26846508.0\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 117614315.90272252', 'Mean Squared Error (MSE): 1.731176889889583e+19', 'Root Mean Squared Error (RMSE): 4160741388.129744', 'R-squared (R2) Score: -5.530912474946826e+16', 'Explained Variance Score: -5.5264929487534136e+16', 'Mean Squared Log Error (MSLE): 141.19667734918792', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 408187764720.31885', 'Mean: 0.3056233771173204', 'Median: 0.0', 'Standard Deviation: 17.691868973735954', 'Minimum: 0.0', 'Maximum: 3619.915039', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210726_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\ny_pred :  [     0.        0.        0.   ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0            0.0\n1            0.0\n2            0.0\n3            0.0\n4     26846460.0\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0            0.0\n1  24.5 -125.899994 -999.0  ...        0.0        0.0            0.0\n2  24.5 -125.800003 -999.0  ...        0.0        0.0            0.0\n3  24.5 -125.699997 -999.0  ...        0.0        0.0            0.0\n4  24.5 -125.599998 -999.0  ...        0.0        0.0     26846460.0\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 106789598.87981963', 'Mean Squared Error (MSE): 1.456425483154261e+19', 'Root Mean Squared Error (RMSE): 3816314299.365634', 'R-squared (R2) Score: -7.390817656685925e+16', 'Explained Variance Score: -7.385030541482885e+16', 'Mean Squared Log Error (MSLE): 142.27074626914572', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 388069162845.0072', 'Mean: 0.18086898233467844', 'Median: 0.0', 'Standard Deviation: 14.037807255916087', 'Minimum: 0.0', 'Maximum: 3609.103027', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210727_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\ny_pred :  [26846444.   26846444.   26846444.   ...   123551.74   123551.74\n   123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0     26846444.0\n1     26846444.0\n2     26846444.0\n3     26846444.0\n4     26846332.0\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0     26846444.0\n1  24.5 -125.899994 -999.0  ...        0.0        0.0     26846444.0\n2  24.5 -125.800003 -999.0  ...        0.0        0.0     26846444.0\n3  24.5 -125.699997 -999.0  ...        0.0        0.0     26846444.0\n4  24.5 -125.599998 -999.0  ...        0.0        0.0     26846332.0\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 117829770.95724623', 'Mean Squared Error (MSE): 1.848609243733829e+19', 'Root Mean Squared Error (RMSE): 4299545608.240281', 'R-squared (R2) Score: -1.5890715828381507e+17', 'Explained Variance Score: -1.5878781213552493e+17', 'Mean Squared Log Error (MSLE): 144.95674045214844', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 418115289088.0', 'Mean: 0.16265263843147748', 'Median: 0.0', 'Standard Deviation: 10.785796297296027', 'Minimum: 0.0', 'Maximum: 2224.424072', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210728_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\ny_pred :  [26846364.   26846364.     123570.99 ...   123551.74   123551.74\n   123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0   2.684636e+07\n1   2.684636e+07\n2   1.235710e+05\n3   1.235710e+05\n4   2.684636e+07\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0   2.684636e+07\n1  24.5 -125.899994 -999.0  ...        0.0        0.0   2.684636e+07\n2  24.5 -125.800003 -999.0  ...        0.0        0.0   1.235710e+05\n3  24.5 -125.699997 -999.0  ...        0.0        0.0   1.235710e+05\n4  24.5 -125.599998 -999.0  ...        0.0        0.0   2.684636e+07\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 118666374.97632697', 'Mean Squared Error (MSE): 1.6600570197298844e+19', 'Root Mean Squared Error (RMSE): 4074379731.603185', 'R-squared (R2) Score: -7.918347386507616e+16', 'Explained Variance Score: -7.911630517243909e+16', 'Mean Squared Log Error (MSLE): 147.93735087982964', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 305193713664.0', 'Mean: 0.2172711726050453', 'Median: 0.0', 'Standard Deviation: 14.479234827795521', 'Minimum: 0.0', 'Maximum: 3471.15332', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210729_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\ny_pred :  [26846444.   26846444.   26846508.   ...   123551.74   123551.74\n   123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0     26846444.0\n1     26846444.0\n2     26846508.0\n3     26846508.0\n4     26846364.0\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0     26846444.0\n1  24.5 -125.899994 -999.0  ...        0.0        0.0     26846444.0\n2  24.5 -125.800003 -999.0  ...        0.0        0.0     26846508.0\n3  24.5 -125.699997 -999.0  ...        0.0        0.0     26846508.0\n4  24.5 -125.599998 -999.0  ...        0.0        0.0     26846364.0\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 109870313.8544913', 'Mean Squared Error (MSE): 1.3725040995645139e+19', 'Root Mean Squared Error (RMSE): 3704732243.4482546', 'R-squared (R2) Score: -3.346835893661906e+16', 'Explained Variance Score: -3.343892275350274e+16', 'Mean Squared Log Error (MSLE): 144.96985385190575', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 251724644252.84348', 'Mean: 0.28142720115898784', 'Median: 0.0', 'Standard Deviation: 20.25074478991796', 'Minimum: 0.0', 'Maximum: 5541.599609', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210730_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 136062695.76718834', 'Mean Squared Error (MSE): 2.160992505510385e+19', 'Root Mean Squared Error (RMSE): 4648647658.739458', 'R-squared (R2) Score: -1.7218760026193024e+17', 'Explained Variance Score: -1.7204008846474525e+17', 'Mean Squared Log Error (MSLE): 141.44537580533716', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 466351226861.9088', 'Mean: 0.25519616228380554', 'Median: 0.0', 'Standard Deviation: 11.202812775557293', 'Minimum: 0.0', 'Maximum: 1532.216431', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210731_predicted.txt\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\ny_pred :  [123551.74 123551.74 123551.74 ... 123551.74 123551.74 123551.74]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0  123551.742188\n1  123551.742188\n2  123551.742188\n3  123551.742188\n4  123551.742188\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0  123551.742188\n1  24.5 -125.899994 -999.0  ...        0.0        0.0  123551.742188\n2  24.5 -125.800003 -999.0  ...        0.0        0.0  123551.742188\n3  24.5 -125.699997 -999.0  ...        0.0        0.0  123551.742188\n4  24.5 -125.599998 -999.0  ...        0.0        0.0  123551.742188\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 119810447.48001279', 'Mean Squared Error (MSE): 1.5804089499737928e+19', 'Root Mean Squared Error (RMSE): 3975435762.2451816', 'R-squared (R2) Score: -1.1246624060217288e+16', 'Explained Variance Score: -1.1236408973047652e+16', 'Mean Squared Log Error (MSLE): 145.24103073555185', 'Median Absolute Error (MedAE): 123551.7421875', 'Max Error: 300275531776.0', 'Mean: 0.40752644062577714', 'Median: 0.0', 'Standard Deviation: 37.48651224517473', 'Minimum: 0.0', 'Maximum: 9899.054688', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210801_predicted.txt\n",
  "history_begin_time" : 1693627010771,
  "history_end_time" : 1693627518057,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "FdRD5awpu3cG",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1.pkl\"\n\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    print(\"y_pred_df shape: \", y_pred_df.shape)\n    print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    print(\"merged_df shape: \", merged_df.shape)\n    print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\",\n                      f\"Mean: {y.mean()}\",\n                      f\"Median: {y.median()}\",\n                      f\"Standard Deviation: {y.std()}\",\n                      f\"Minimum: {y.min()}\",\n                      f\"Maximum: {y.max()}\",\n                      f\"Count: {y.count()}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n20210709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210709.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.4527865538215363\nMedian: 0.0\nStandard Deviation: 50.1739698027898\nMinimum: 0.0\nMaximum: 16156.818359\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.33122720721605436', 'Mean Squared Error (MSE): 835.0728034930712', 'Root Mean Squared Error (RMSE): 28.897626260526508', 'R-squared (R2) Score: 0.6682811276560983', 'Explained Variance Score: 0.6682872547106783', 'Mean Squared Log Error (MSLE): 0.009288748449440595', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 8718.646484', 'Mean: 0.4527865538215363', 'Median: 0.0', 'Standard Deviation: 50.1739698027898', 'Minimum: 0.0', 'Maximum: 16156.818359', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210715_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.38597127211990223\nMedian: 0.0\nStandard Deviation: 47.59909379644986\nMinimum: 0.0\nMaximum: 16915.101562\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3622520021752377', 'Mean Squared Error (MSE): 1004.8814538787673', 'Root Mean Squared Error (RMSE): 31.69986520284853', 'R-squared (R2) Score: 0.5564728289442582', 'Explained Variance Score: 0.5564860405795307', 'Mean Squared Log Error (MSLE): 0.011206227005580455', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 9769.8603510625', 'Mean: 0.38597127211990223', 'Median: 0.0', 'Standard Deviation: 47.59909379644986', 'Minimum: 0.0', 'Maximum: 16915.101562', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210716_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.45815916447683025\nMedian: 0.0\nStandard Deviation: 51.75013792081203\nMinimum: 0.0\nMaximum: 15969.007812\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.36804591419932353', 'Mean Squared Error (MSE): 1121.8227895238185', 'Root Mean Squared Error (RMSE): 33.493623117301276', 'R-squared (R2) Score: 0.5811061311565406', 'Explained Variance Score: 0.5811096804542566', 'Mean Squared Log Error (MSLE): 0.012846082614961398', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 10251.8193354375', 'Mean: 0.45815916447683025', 'Median: 0.0', 'Standard Deviation: 51.75013792081203', 'Minimum: 0.0', 'Maximum: 15969.007812', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210717_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.7132855446223089\nMedian: 0.0\nStandard Deviation: 61.31019574760577\nMinimum: 0.0\nMaximum: 13514.680664\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.5062154445337955', 'Mean Squared Error (MSE): 1258.7678170642703', 'Root Mean Squared Error (RMSE): 35.47911804236783', 'R-squared (R2) Score: 0.6651247938274734', 'Explained Variance Score: 0.6651384398450242', 'Mean Squared Log Error (MSLE): 0.008785988655059977', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 7153.9326171249995', 'Mean: 0.7132855446223089', 'Median: 0.0', 'Standard Deviation: 61.31019574760577', 'Minimum: 0.0', 'Maximum: 13514.680664', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210718_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.46430615542422926\nMedian: 0.0\nStandard Deviation: 37.59595427576498\nMinimum: 0.0\nMaximum: 8387.192383\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.30570128044007555', 'Mean Squared Error (MSE): 439.0977631455225', 'Root Mean Squared Error (RMSE): 20.954659700064862', 'R-squared (R2) Score: 0.6893425536855582', 'Explained Variance Score: 0.6893690124554666', 'Mean Squared Log Error (MSLE): 0.011266272192149348', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3285.2675783124996', 'Mean: 0.46430615542422926', 'Median: 0.0', 'Standard Deviation: 37.59595427576498', 'Minimum: 0.0', 'Maximum: 8387.192383', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210719_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.50389648040622\nMedian: 0.0\nStandard Deviation: 43.850841345147174\nMinimum: 0.0\nMaximum: 11851.475586\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.39560193144946737', 'Mean Squared Error (MSE): 740.4715212082209', 'Root Mean Squared Error (RMSE): 27.211606369492795', 'R-squared (R2) Score: 0.6149161829845677', 'Explained Variance Score: 0.6149316360686227', 'Mean Squared Log Error (MSLE): 0.010297826657455975', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 6533.6972656875005', 'Mean: 0.50389648040622', 'Median: 0.0', 'Standard Deviation: 43.850841345147174', 'Minimum: 0.0', 'Maximum: 11851.475586', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210720_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.3414905426205368\nMedian: 0.0\nStandard Deviation: 25.33070137219841\nMinimum: 0.0\nMaximum: 4725.491699\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.27330231068078614', 'Mean Squared Error (MSE): 276.08711732640324', 'Root Mean Squared Error (RMSE): 16.61586944238559', 'R-squared (R2) Score: 0.5697167096920317', 'Explained Variance Score: 0.5697359235187265', 'Mean Squared Log Error (MSLE): 0.013389352332730689', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2990.7900387500003', 'Mean: 0.3414905426205368', 'Median: 0.0', 'Standard Deviation: 25.33070137219841', 'Minimum: 0.0', 'Maximum: 4725.491699', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210721_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.39796345876285383\nMedian: 0.0\nStandard Deviation: 35.73078813677705\nMinimum: 0.0\nMaximum: 8153.587891\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3036565093877293', 'Mean Squared Error (MSE): 400.4198156816232', 'Root Mean Squared Error (RMSE): 20.010492639653407', 'R-squared (R2) Score: 0.6863587771760387', 'Explained Variance Score: 0.6863750029860946', 'Mean Squared Log Error (MSLE): 0.010263955459099392', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3937.2529300625', 'Mean: 0.39796345876285383', 'Median: 0.0', 'Standard Deviation: 35.73078813677705', 'Minimum: 0.0', 'Maximum: 8153.587891', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210722_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.4618754229413305\nMedian: 0.0\nStandard Deviation: 35.51037511889856\nMinimum: 0.0\nMaximum: 6458.900879\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.34294789595182296', 'Mean Squared Error (MSE): 423.7782229747591', 'Root Mean Squared Error (RMSE): 20.5858743553622', 'R-squared (R2) Score: 0.6639291193161357', 'Explained Variance Score: 0.6639589845005365', 'Mean Squared Log Error (MSLE): 0.011539152673644328', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3802.8530275625', 'Mean: 0.4618754229413305', 'Median: 0.0', 'Standard Deviation: 35.51037511889856', 'Minimum: 0.0', 'Maximum: 6458.900879', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210723_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.25003795589088407\nMedian: 0.0\nStandard Deviation: 13.885142057856433\nMinimum: 0.0\nMaximum: 2124.051025\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.26596948708578694', 'Mean Squared Error (MSE): 201.94402173546865', 'Root Mean Squared Error (RMSE): 14.210700958625111', 'R-squared (R2) Score: -0.04744955118410732', 'Explained Variance Score: -0.04741723469611725', 'Mean Squared Log Error (MSLE): 0.01219220783490379', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2092.688232734375', 'Mean: 0.25003795589088407', 'Median: 0.0', 'Standard Deviation: 13.885142057856433', 'Minimum: 0.0', 'Maximum: 2124.051025', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210724_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.31645865549754254\nMedian: 0.0\nStandard Deviation: 17.545629376636203\nMinimum: 0.0\nMaximum: 3373.57251\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3153361048693167', 'Mean Squared Error (MSE): 363.0522418177147', 'Root Mean Squared Error (RMSE): 19.053929826094002', 'R-squared (R2) Score: -0.17932631364063933', 'Explained Variance Score: -0.17922545371044096', 'Mean Squared Log Error (MSLE): 0.010627532482936979', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3303.2204589375', 'Mean: 0.31645865549754254', 'Median: 0.0', 'Standard Deviation: 17.545629376636203', 'Minimum: 0.0', 'Maximum: 3373.57251', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210725_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.3056233771173204\nMedian: 0.0\nStandard Deviation: 17.691868973735954\nMinimum: 0.0\nMaximum: 3619.915039\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3130728039002749', 'Mean Squared Error (MSE): 399.10841552707996', 'Root Mean Squared Error (RMSE): 19.977697953645208', 'R-squared (R2) Score: -0.27510581222914854', 'Explained Variance Score: -0.27496516685352', 'Mean Squared Log Error (MSLE): 0.010337600577444707', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 4367.2207031875005', 'Mean: 0.3056233771173204', 'Median: 0.0', 'Standard Deviation: 17.691868973735954', 'Minimum: 0.0', 'Maximum: 3619.915039', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210726_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.18086898233467844\nMedian: 0.0\nStandard Deviation: 14.037807255916087\nMinimum: 0.0\nMaximum: 3609.103027\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.2306648935953739', 'Mean Squared Error (MSE): 257.98485671643067', 'Root Mean Squared Error (RMSE): 16.061907007464296', 'R-squared (R2) Score: -0.30917719871798566', 'Explained Variance Score: -0.309050245576759', 'Mean Squared Log Error (MSLE): 0.011282486583812194', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3718.70556675', 'Mean: 0.18086898233467844', 'Median: 0.0', 'Standard Deviation: 14.037807255916087', 'Minimum: 0.0', 'Maximum: 3609.103027', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210727_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.16265263843147748\nMedian: 0.0\nStandard Deviation: 10.785796297296027\nMinimum: 0.0\nMaximum: 2224.424072\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.21222469398332036', 'Mean Squared Error (MSE): 179.91000411239574', 'Root Mean Squared Error (RMSE): 13.413053496963164', 'R-squared (R2) Score: -0.5465132827414694', 'Explained Variance Score: -0.546350475667257', 'Mean Squared Log Error (MSLE): 0.01064894958080287', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2686.5405270624997', 'Mean: 0.16265263843147748', 'Median: 0.0', 'Standard Deviation: 10.785796297296027', 'Minimum: 0.0', 'Maximum: 2224.424072', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210728_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.2172711726050453\nMedian: 0.0\nStandard Deviation: 14.479234827795521\nMinimum: 0.0\nMaximum: 3471.15332\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.23999772187509652', 'Mean Squared Error (MSE): 243.58552011553735', 'Root Mean Squared Error (RMSE): 15.607226535023363', 'R-squared (R2) Score: -0.16188464834286642', 'Explained Variance Score: -0.16177939696694144', 'Mean Squared Log Error (MSLE): 0.011463199486289292', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2606.6816409375', 'Mean: 0.2172711726050453', 'Median: 0.0', 'Standard Deviation: 14.479234827795521', 'Minimum: 0.0', 'Maximum: 3471.15332', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210729_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.28142720115898784\nMedian: 0.0\nStandard Deviation: 20.25074478991796\nMinimum: 0.0\nMaximum: 5541.599609\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.2474253798036777', 'Mean Squared Error (MSE): 317.4934320116245', 'Root Mean Squared Error (RMSE): 17.818345378054172', 'R-squared (R2) Score: 0.22579581758949496', 'Explained Variance Score: 0.22585800914623044', 'Mean Squared Log Error (MSLE): 0.010376762911362183', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3565.3662111875', 'Mean: 0.28142720115898784', 'Median: 0.0', 'Standard Deviation: 20.25074478991796', 'Minimum: 0.0', 'Maximum: 5541.599609', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210730_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.25519616228380554\nMedian: 0.0\nStandard Deviation: 11.202812775557293\nMinimum: 0.0\nMaximum: 1532.216431\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.27329208441583164', 'Mean Squared Error (MSE): 238.85129692648772', 'Root Mean Squared Error (RMSE): 15.454814684314002', 'R-squared (R2) Score: -0.9031640106270618', 'Explained Variance Score: -0.9030339470322126', 'Mean Squared Log Error (MSLE): 0.011133465319310856', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2685.9488525781253', 'Mean: 0.25519616228380554', 'Median: 0.0', 'Standard Deviation: 11.202812775557293', 'Minimum: 0.0', 'Maximum: 1532.216431', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210731_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.40752644062577714\nMedian: 0.0\nStandard Deviation: 37.48651224517473\nMinimum: 0.0\nMaximum: 9899.054688\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3172930373073772', 'Mean Squared Error (MSE): 471.4383304900298', 'Root Mean Squared Error (RMSE): 21.7126306671953', 'R-squared (R2) Score: 0.6645115385681812', 'Explained Variance Score: 0.6645454097471786', 'Mean Squared Log Error (MSLE): 0.0111782385226748', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2989.9858394374996', 'Mean: 0.40752644062577714', 'Median: 0.0', 'Standard Deviation: 37.48651224517473', 'Minimum: 0.0', 'Maximum: 9899.054688', 'Count: 156861']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210801_predicted.txt\n",
  "history_begin_time" : 1693603212748,
  "history_end_time" : 1693603320765,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "MDbDWKAMEhOF",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\nfrom fc_model_creation import prepare_training_data\n\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1.pkl\"\n\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    print(\"y_pred_df shape: \", y_pred_df.shape)\n    print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    print(\"merged_df shape: \", merged_df.shape)\n    print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\n20210709\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210709.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.4527865538215363\nMedian: 0.0\nStandard Deviation: 50.1739698027898\nMinimum: 0.0\nMaximum: 16156.818359\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.33122720721605436', 'Mean Squared Error (MSE): 835.0728034930712', 'Root Mean Squared Error (RMSE): 28.897626260526508', 'R-squared (R2) Score: 0.6682811276560983', 'Explained Variance Score: 0.6682872547106783', 'Mean Squared Log Error (MSLE): 0.009288748449440595', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 8718.646484']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210715_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\n20210710\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210710.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.38597127211990223\nMedian: 0.0\nStandard Deviation: 47.59909379644986\nMinimum: 0.0\nMaximum: 16915.101562\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3622520021752377', 'Mean Squared Error (MSE): 1004.8814538787673', 'Root Mean Squared Error (RMSE): 31.69986520284853', 'R-squared (R2) Score: 0.5564728289442582', 'Explained Variance Score: 0.5564860405795307', 'Mean Squared Log Error (MSLE): 0.011206227005580455', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 9769.8603510625']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210716_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\n20210711\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210711.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.45815916447683025\nMedian: 0.0\nStandard Deviation: 51.75013792081203\nMinimum: 0.0\nMaximum: 15969.007812\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.36804591419932353', 'Mean Squared Error (MSE): 1121.8227895238185', 'Root Mean Squared Error (RMSE): 33.493623117301276', 'R-squared (R2) Score: 0.5811061311565406', 'Explained Variance Score: 0.5811096804542566', 'Mean Squared Log Error (MSLE): 0.012846082614961398', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 10251.8193354375']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210717_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\n20210712\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210712.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.7132855446223089\nMedian: 0.0\nStandard Deviation: 61.31019574760577\nMinimum: 0.0\nMaximum: 13514.680664\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.5062154445337955', 'Mean Squared Error (MSE): 1258.7678170642703', 'Root Mean Squared Error (RMSE): 35.47911804236783', 'R-squared (R2) Score: 0.6651247938274734', 'Explained Variance Score: 0.6651384398450242', 'Mean Squared Log Error (MSLE): 0.008785988655059977', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 7153.9326171249995']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210718_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\n20210713\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210713.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.46430615542422926\nMedian: 0.0\nStandard Deviation: 37.59595427576498\nMinimum: 0.0\nMaximum: 8387.192383\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.30570128044007555', 'Mean Squared Error (MSE): 439.0977631455225', 'Root Mean Squared Error (RMSE): 20.954659700064862', 'R-squared (R2) Score: 0.6893425536855582', 'Explained Variance Score: 0.6893690124554666', 'Mean Squared Log Error (MSLE): 0.011266272192149348', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3285.2675783124996']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210719_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.50389648040622\nMedian: 0.0\nStandard Deviation: 43.850841345147174\nMinimum: 0.0\nMaximum: 11851.475586\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.39560193144946737', 'Mean Squared Error (MSE): 740.4715212082209', 'Root Mean Squared Error (RMSE): 27.211606369492795', 'R-squared (R2) Score: 0.6149161829845677', 'Explained Variance Score: 0.6149316360686227', 'Mean Squared Log Error (MSLE): 0.010297826657455975', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 6533.6972656875005']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210720_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.3414905426205368\nMedian: 0.0\nStandard Deviation: 25.33070137219841\nMinimum: 0.0\nMaximum: 4725.491699\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.27330231068078614', 'Mean Squared Error (MSE): 276.08711732640324', 'Root Mean Squared Error (RMSE): 16.61586944238559', 'R-squared (R2) Score: 0.5697167096920317', 'Explained Variance Score: 0.5697359235187265', 'Mean Squared Log Error (MSLE): 0.013389352332730689', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2990.7900387500003']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210721_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.39796345876285383\nMedian: 0.0\nStandard Deviation: 35.73078813677705\nMinimum: 0.0\nMaximum: 8153.587891\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3036565093877293', 'Mean Squared Error (MSE): 400.4198156816232', 'Root Mean Squared Error (RMSE): 20.010492639653407', 'R-squared (R2) Score: 0.6863587771760387', 'Explained Variance Score: 0.6863750029860946', 'Mean Squared Log Error (MSLE): 0.010263955459099392', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3937.2529300625']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210722_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.4618754229413305\nMedian: 0.0\nStandard Deviation: 35.51037511889856\nMinimum: 0.0\nMaximum: 6458.900879\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.34294789595182296', 'Mean Squared Error (MSE): 423.7782229747591', 'Root Mean Squared Error (RMSE): 20.5858743553622', 'R-squared (R2) Score: 0.6639291193161357', 'Explained Variance Score: 0.6639589845005365', 'Mean Squared Log Error (MSLE): 0.011539152673644328', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3802.8530275625']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210723_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.25003795589088407\nMedian: 0.0\nStandard Deviation: 13.885142057856433\nMinimum: 0.0\nMaximum: 2124.051025\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.26596948708578694', 'Mean Squared Error (MSE): 201.94402173546865', 'Root Mean Squared Error (RMSE): 14.210700958625111', 'R-squared (R2) Score: -0.04744955118410732', 'Explained Variance Score: -0.04741723469611725', 'Mean Squared Log Error (MSLE): 0.01219220783490379', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2092.688232734375']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210724_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.31645865549754254\nMedian: 0.0\nStandard Deviation: 17.545629376636203\nMinimum: 0.0\nMaximum: 3373.57251\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3153361048693167', 'Mean Squared Error (MSE): 363.0522418177147', 'Root Mean Squared Error (RMSE): 19.053929826094002', 'R-squared (R2) Score: -0.17932631364063933', 'Explained Variance Score: -0.17922545371044096', 'Mean Squared Log Error (MSLE): 0.010627532482936979', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3303.2204589375']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210725_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.3056233771173204\nMedian: 0.0\nStandard Deviation: 17.691868973735954\nMinimum: 0.0\nMaximum: 3619.915039\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3130728039002749', 'Mean Squared Error (MSE): 399.10841552707996', 'Root Mean Squared Error (RMSE): 19.977697953645208', 'R-squared (R2) Score: -0.27510581222914854', 'Explained Variance Score: -0.27496516685352', 'Mean Squared Log Error (MSLE): 0.010337600577444707', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 4367.2207031875005']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210726_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\n20210721\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210721.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.18086898233467844\nMedian: 0.0\nStandard Deviation: 14.037807255916087\nMinimum: 0.0\nMaximum: 3609.103027\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.2306648935953739', 'Mean Squared Error (MSE): 257.98485671643067', 'Root Mean Squared Error (RMSE): 16.061907007464296', 'R-squared (R2) Score: -0.30917719871798566', 'Explained Variance Score: -0.309050245576759', 'Mean Squared Log Error (MSLE): 0.011282486583812194', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3718.70556675']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210727_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\n20210722\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210722.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.16265263843147748\nMedian: 0.0\nStandard Deviation: 10.785796297296027\nMinimum: 0.0\nMaximum: 2224.424072\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.21222469398332036', 'Mean Squared Error (MSE): 179.91000411239574', 'Root Mean Squared Error (RMSE): 13.413053496963164', 'R-squared (R2) Score: -0.5465132827414694', 'Explained Variance Score: -0.546350475667257', 'Mean Squared Log Error (MSLE): 0.01064894958080287', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2686.5405270624997']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210728_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\n20210723\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210723.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.2172711726050453\nMedian: 0.0\nStandard Deviation: 14.479234827795521\nMinimum: 0.0\nMaximum: 3471.15332\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.23999772187509652', 'Mean Squared Error (MSE): 243.58552011553735', 'Root Mean Squared Error (RMSE): 15.607226535023363', 'R-squared (R2) Score: -0.16188464834286642', 'Explained Variance Score: -0.16177939696694144', 'Mean Squared Log Error (MSLE): 0.011463199486289292', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2606.6816409375']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210729_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\n20210724\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210724.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.28142720115898784\nMedian: 0.0\nStandard Deviation: 20.25074478991796\nMinimum: 0.0\nMaximum: 5541.599609\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.2474253798036777', 'Mean Squared Error (MSE): 317.4934320116245', 'Root Mean Squared Error (RMSE): 17.818345378054172', 'R-squared (R2) Score: 0.22579581758949496', 'Explained Variance Score: 0.22585800914623044', 'Mean Squared Log Error (MSLE): 0.010376762911362183', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 3565.3662111875']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210730_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\n20210725\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210725.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.25519616228380554\nMedian: 0.0\nStandard Deviation: 11.202812775557293\nMinimum: 0.0\nMaximum: 1532.216431\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.27329208441583164', 'Mean Squared Error (MSE): 238.85129692648772', 'Root Mean Squared Error (RMSE): 15.454814684314002', 'R-squared (R2) Score: -0.9031640106270618', 'Explained Variance Score: -0.9030339470322126', 'Mean Squared Log Error (MSLE): 0.011133465319310856', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2685.9488525781253']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210731_predicted.txt\ntarget column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210801\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210801.txt\n20210731\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210731.txt\n20210730\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210730.txt\n20210729\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210729.txt\n20210728\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210728.txt\n20210727\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210727.txt\n20210726\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210726.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.40752644062577714\nMedian: 0.0\nStandard Deviation: 37.48651224517473\nMinimum: 0.0\nMaximum: 9899.054688\nCount: 156861\ny_pred :  [3.8357502e-05 3.8357502e-05 3.8357502e-05 ... 3.8357502e-05 3.8357502e-05\n 3.8357502e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000038\n1       0.000038\n2       0.000038\n3       0.000038\n4       0.000038\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000038\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000038\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000038\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000038\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000038\n[5 rows x 22 columns]\n['Mean Absolute Error (MAE): 0.3172930373073772', 'Mean Squared Error (MSE): 471.4383304900298', 'Root Mean Squared Error (RMSE): 21.7126306671953', 'R-squared (R2) Score: 0.6645115385681812', 'Explained Variance Score: 0.6645454097471786', 'Mean Squared Log Error (MSLE): 0.0111782385226748', 'Median Absolute Error (MedAE): 3.83575024898164e-05', 'Max Error: 2989.9858394374996']\nMetrics saved to /groups/ESS3/zsun/firecasting/data/output/metrics_20210801_predicted.txt\n",
  "history_begin_time" : 1693602944546,
  "history_end_time" : 1693603058981,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "dN0GE5lc4SHt",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1.pkl\"\n\n\n\ndef predict(start_date_str, end_date_str):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    print(\"y_pred_df shape: \", y_pred_df.shape)\n    print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    print(\"merged_df shape: \", merged_df.shape)\n    print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "Traceback (most recent call last):\n  File \"fc_model_predict.py\", line 107, in <module>\n    predict(start_date, end_date)\n  File \"fc_model_predict.py\", line 44, in predict\n    X, y = prepare_training_data(date_str)\nNameError: name 'prepare_training_data' is not defined\n",
  "history_begin_time" : 1693602903449,
  "history_end_time" : 1693602906113,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "yaAcN3jzrgGO",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\nfrom datetime import datetime, timedelta\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1.pkl\"\n\n\n\ndef predict(start_date, end_date):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    print(\"y_pred_df shape: \", y_pred_df.shape)\n    print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    print(\"merged_df shape: \", merged_df.shape)\n    print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "Traceback (most recent call last):\n  File \"fc_model_predict.py\", line 107, in <module>\n    predict(start_date, end_date)\n  File \"fc_model_predict.py\", line 27, in predict\n    start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\nNameError: name 'start_date_str' is not defined\n",
  "history_begin_time" : 1693602880990,
  "history_end_time" : 1693602883732,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "c9vwPtMoPzqO",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1.pkl\"\n\n\n\ndef predict(start_date, end_date):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    print(\"y_pred_df shape: \", y_pred_df.shape)\n    print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    print(\"merged_df shape: \", merged_df.shape)\n    print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "Traceback (most recent call last):\n  File \"fc_model_predict.py\", line 106, in <module>\n    predict(start_date, end_date)\n  File \"fc_model_predict.py\", line 26, in predict\n    start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\nNameError: name 'datetime' is not defined\n",
  "history_begin_time" : 1693602860569,
  "history_end_time" : 1693602864352,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "WDL8HtGDQBG9",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\nmodel_path = \"/groups/ESS3/zsun/firecasting/model/fc_xgb_model_v1.pkl\"\n\n\n\ndef predict(start_date, end_date):\n  start_date = datetime.strptime(start_date_str, \"%Y%m%d\")\n  end_date = datetime.strptime(end_date_str, \"%Y%m%d\")\n\n  # Initialize a list to store the dates\n  dates_between = []\n  \n  # Load the saved model\n  with open(model_path, 'rb') as model_file:\n      loaded_model = pickle.load(model_file)\n\n  # Iterate through the days between start and end dates\n  current_date = start_date\n  label = 0\n  while current_date <= end_date:\n    dates_between.append(current_date)\n    current_date += timedelta(days=1)\n    date_str = current_date.strftime(\"%Y%m%d\")\n    X, y = prepare_training_data(date_str)\n    # Make predictions\n    y_pred = loaded_model.predict(X)\n    y_pred[y_pred < 0] = 0\n\n    print(\"y_pred : \", y_pred)\n\n    # merge the input and output into one df\n    print(\"X_test shape: \", X.shape)\n    y_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\n    print(\"y_pred_df shape: \", y_pred_df.shape)\n    print(\"y_pred_df head: \", y_pred_df.head())\n\n    #merged_df = X.join(y_pred_df)\n    #merged_df = pd.concat([X, y_pred_df], axis=1)\n    merged_df = X\n    merged_df[\"Predicted_FRP\"] = y_pred\n\n    print(\"merged_df shape: \", merged_df.shape)\n    print(\"the final merged df is: \", merged_df.head())\n\n    # save the df to a csv for plotting\n    merged_df.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'firedata_{date_str}_predicted.txt',\n              index=False)\n\n    # Calculate metrics\n    y_test = y\n    mae = mean_absolute_error(y_test, y_pred)\n    mse = mean_squared_error(y_test, y_pred)\n    rmse = mean_squared_error(y_test, y_pred, squared=False)\n    r2 = r2_score(y_test, y_pred)\n    explained_var = explained_variance_score(y_test, y_pred)\n    msle = mean_squared_log_error(y_test, y_pred)\n    medae = median_absolute_error(y_test, y_pred)\n    max_err = max_error(y_test, y_pred)\n\n    # Print the metrics\n    lines_to_write = [f\"Mean Absolute Error (MAE): {mae}\",\n                      f\"Mean Squared Error (MSE): {mse}\",\n                      f\"Root Mean Squared Error (RMSE): {rmse}\",\n                      f\"R-squared (R2) Score: {r2}\",\n                      f\"Explained Variance Score: {explained_var}\",\n                      f\"Mean Squared Log Error (MSLE): {msle}\",\n                      f\"Median Absolute Error (MedAE): {medae}\",\n                      f\"Max Error: {max_err}\"]\n    \n    print(lines_to_write)\n    # Specify the file path where you want to save the lines\n    metric_file_path = f'/groups/ESS3/zsun/firecasting/data/output/'\n              f'metrics_{date_str}_predicted.txt'\n\n    # Open the file in write mode and write the lines\n    with open(metric_file_path, 'w') as file:\n        for line in lines_to_write:\n            file.write(line + '\\n')  # Add a newline character at the end of each line\n    print(f\"Metrics saved to {metric_file_path}\")\n\n\n\nstart_date = \"20210714\"\nend_date = \"20210731\"\n\npredict(start_date, end_date)\n",
  "history_output" : "  File \"fc_model_predict.py\", line 94\n    f'metrics_{date_str}_predicted.txt'\n    ^\nIndentationError: unexpected indent\n",
  "history_begin_time" : 1693602838230,
  "history_end_time" : 1693602838344,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "4yBUAXQz46TC",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n# final model path\nmodel_path = \"/groups/ESS3/zsun/fc_xgb_model.pkl\"\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\ntarget_pred_date = \"20210720\"\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(target_pred_date)\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf_filled = df.fillna(-9999)\n#df.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\n#df = df[df[target_col] != 0]\n#print(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\n# X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\n# model = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1,\n#                      objective='reg:squarederror', \n#                      scale_pos_weight=abs((len(y_train) - y_train.sum()) / y_train.sum()))\n# model.fit(X_train, y_train)\n\n# Save the model to a file\n#with open(model_path, 'wb') as model_file:\n#    pickle.dump(model, model_file)\n\n\n# Load the saved model\nwith open(model_path, 'rb') as model_file:\n    loaded_model = pickle.load(model_file)\n    \n# Make predictions\ny_pred = loaded_model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n# save the df to a csv for plotting\ndf.to_csv(f'/groups/ESS3/zsun/firecasting/data/output/firedata_{target_pred_date}_predicted.txt', index=False)\n\n\n# Calculate metrics\ny_test = y\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.50389648040622\nMedian: 0.0\nStandard Deviation: 43.850841345147174\nMinimum: 0.0\nMaximum: 11851.475586\nCount: 156861\ny_pred :  [1.5991085e-05 1.5991085e-05 1.5991085e-05 ... 1.5991085e-05 1.5991085e-05\n 1.5991085e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000016\n1       0.000016\n2       0.000016\n3       0.000016\n4       0.000016\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000016\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000016\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000016\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000016\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000016\n[5 rows x 22 columns]\nMean Absolute Error (MAE): 0.299161116430983\nMean Squared Error (MSE): 1529.635843978846\nRoot Mean Squared Error (RMSE): 39.11055923889156\nR-squared (R2) Score: 0.20450956914336427\nExplained Variance Score: 0.20454875498978042\nMean Squared Log Error (MSLE): 0.0003017597210857749\nMedian Absolute Error (MedAE): 1.5991085092537105e-05\nMax Error: 11339.876770082032\n",
  "history_begin_time" : 1693600455950,
  "history_end_time" : 1693600463187,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "JCt7vq6EE1QT",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n# final model path\nmodel_path = \"/groups/ESS3/zsun/fc_xgb_model.pkl\"\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20210720\")\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf_filled = df.fillna(-9999)\n#df.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\n#df = df[df[target_col] != 0]\n#print(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\n# X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\n# model = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1,\n#                      objective='reg:squarederror', \n#                      scale_pos_weight=abs((len(y_train) - y_train.sum()) / y_train.sum()))\n# model.fit(X_train, y_train)\n\n# Save the model to a file\n#with open(model_path, 'wb') as model_file:\n#    pickle.dump(model, model_file)\n\n\n# Load the saved model\nwith open(model_path, 'rb') as model_file:\n    loaded_model = pickle.load(model_file)\n    \n# Make predictions\ny_pred = loaded_model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\ny_test = y\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.50389648040622\nMedian: 0.0\nStandard Deviation: 43.850841345147174\nMinimum: 0.0\nMaximum: 11851.475586\nCount: 156861\ny_pred :  [1.5991085e-05 1.5991085e-05 1.5991085e-05 ... 1.5991085e-05 1.5991085e-05\n 1.5991085e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000016\n1       0.000016\n2       0.000016\n3       0.000016\n4       0.000016\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000016\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000016\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000016\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000016\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000016\n[5 rows x 22 columns]\nMean Absolute Error (MAE): 0.299161116430983\nMean Squared Error (MSE): 1529.635843978846\nRoot Mean Squared Error (RMSE): 39.11055923889156\nR-squared (R2) Score: 0.20450956914336427\nExplained Variance Score: 0.20454875498978042\nMean Squared Log Error (MSLE): 0.0003017597210857749\nMedian Absolute Error (MedAE): 1.5991085092537105e-05\nMax Error: 11339.876770082032\n",
  "history_begin_time" : 1693600201201,
  "history_end_time" : 1693600205660,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "tO61kLi3Jut1",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n# final model path\nmodel_path = \"/groups/ESS3/zsun/fc_xgb_model.pkl\"\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20210720\")\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf_filled = df.fillna(-9999)\n#df.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\n#df = df[df[target_col] != 0]\n#print(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\n# X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\n# model = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1,\n#                      objective='reg:squarederror', \n#                      scale_pos_weight=abs((len(y_train) - y_train.sum()) / y_train.sum()))\n# model.fit(X_train, y_train)\n\n# Save the model to a file\n#with open(model_path, 'wb') as model_file:\n#    pickle.dump(model, model_file)\n\n\n# Load the saved model\nwith open(model_path, 'rb') as model_file:\n    loaded_model = pickle.load(model_file)\n    \n# Make predictions\ny_pred = model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\ny_test = y\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210720\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210720.txt\n20210719\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210719.txt\n20210718\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210718.txt\n20210717\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210717.txt\n20210716\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210716.txt\n20210715\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210715.txt\n20210714\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20210714.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.50389648040622\nMedian: 0.0\nStandard Deviation: 43.850841345147174\nMinimum: 0.0\nMaximum: 11851.475586\nCount: 156861\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 97, in <module>\n    y_pred = model.predict(X)\nNameError: name 'model' is not defined\n",
  "history_begin_time" : 1693600161430,
  "history_end_time" : 1693600172000,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "Hs4XdpqlujNL",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n# final model path\nmodel_path = \"/groups/ESS3/zsun/fc_xgb_model.pkl\"\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf_filled = df.fillna(-9999)\n#df.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\n#df = df[df[target_col] != 0]\n#print(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1,\n                     objective='reg:squarederror', \n                     scale_pos_weight=abs((len(y_train) - y_train.sum()) / y_train.sum()))\nmodel.fit(X_train, y_train)\n\n# Save the model to a file\nwith open(model_path, 'wb') as model_file:\n    pickle.dump(model, model_file)\n\n\n# Load the saved model\nwith open(model_path, 'rb') as model_file:\n    loaded_model = pickle.load(model_file)\n    \n# Make predictions\ny_pred = model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\ny_test = y\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.03682909143764224\nMedian: 0.0\nStandard Deviation: 3.227510322570268\nMinimum: 0.0\nMaximum: 731.856323\nCount: 156861\ny_pred :  [1.5991085e-05 1.5991085e-05 1.5991085e-05 ... 1.5991085e-05 1.5991085e-05\n 1.5991085e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000016\n1       0.000016\n2       0.000016\n3       0.000016\n4       0.000016\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000016\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000016\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000016\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000016\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000016\n[5 rows x 22 columns]\nMean Absolute Error (MAE): 7.6118583684131e-05\nMean Squared Error (MSE): 0.00010621528629754241\nRoot Mean Squared Error (RMSE): 0.010306080064580442\nR-squared (R2) Score: 0.9999898034204256\nExplained Variance Score: 0.9999898034822254\nMean Squared Log Error (MSLE): 3.7454759367662684e-08\nMedian Absolute Error (MedAE): 1.5991085092537105e-05\nMax Error: 3.863708253906225\n",
  "history_begin_time" : 1693599904440,
  "history_end_time" : 1693599929340,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "18somqoAK3qB",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nimport pickle\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n# final model path\nmodel_path = \"/groups/ESS3/zsun/fc_xgb_model.pkl\"\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf_filled = df.fillna(-9999)\n#df.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1,\n                     objective='reg:squarederror', \n                     scale_pos_weight=abs((len(y_train) - y_train.sum()) / y_train.sum()))\nmodel.fit(X_train, y_train)\n\n# Save the model to a file\nwith open(model_path, 'wb') as model_file:\n    pickle.dump(model, model_file)\n\n\n# Load the saved model\nwith open(model_path, 'rb') as model_file:\n    loaded_model = pickle.load(model_file)\n    \n# Make predictions\ny_pred = model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\ny_test = y\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\ny_pred :  [  5.750411    3.4428658   6.935663    7.5712194   3.6103258   4.359358\n  17.361698    9.249288   13.350521    4.9579773   4.6727233   7.200593\n   2.4686975  12.761629    5.372518    7.3124914   2.905925    4.105234\n   8.410271    1.5763526   4.017731  118.91731    23.940506    1.4254225\n   2.8746257  31.946026    0.7191087   5.868879   11.646985    1.2733331\n   3.0281806   4.209437    2.320392    4.0191035   3.8840106   3.8343613\n   2.08404     6.260135    3.5031548   6.279505   12.403731    2.944011\n   3.6103258  60.688812    0.7891621   2.6774533   3.6018133   9.0500145\n   2.877889   26.455431    5.6501203  62.5268     23.024193  115.56509\n   1.6074162  27.787767   73.93754   176.4098    140.63359   123.97153\n  34.689304   15.964964    2.903587    2.587468   20.109053   26.4534\n   3.0550563   1.5113226 430.14746     1.8261297   3.0438561   8.1538315\n   1.155203    2.4686975   4.825807  297.4329     58.274036    6.720624\n  21.814356    6.7596354  62.59446   112.27393    80.26682   284.9957\n  10.610872   37.817257    9.692357   82.9781    178.58493    78.37432\n   2.8656943  40.29097     9.203645    5.868879   91.37797   207.34773\n 631.46735     5.750411    3.274181    5.5909357  14.394641   79.160255\n  42.342545   24.827387   15.211548   53.595795   21.480776  254.18907\n   9.686026   18.981817   82.970894   14.398649    9.699011    2.308302\n  11.648357    1.6000409 614.09454    13.348906    2.308302    1.6257385\n   6.260257    8.152998    3.4495203   1.6074162   1.416349    2.6774533\n   7.5712194   7.2072473   2.903587  112.23197    24.969397   10.613546\n   1.8204931   3.6169803  12.403731    2.4686975   3.8376443  17.361698 ]\nX_test shape:  (138, 21)\ny_pred_df shape:  (138, 1)\ny_pred_df head:     Predicted_FRP\n0       5.750411\n1       3.442866\n2       6.935663\n3       7.571219\n4       3.610326\nmerged_df shape:  (138, 22)\nthe final merged df is:              LAT         LON        FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n1482  24.700005  -98.000000  43.746094  ...    0.00000        0.0       5.750411\n5057  25.300003 -101.099998  20.465820  ...    0.00000        0.0       3.442866\n5588  25.400002 -108.099998   0.308594  ...    1.61582        0.0       6.935663\n5671  25.400002  -99.799995  29.708984  ...    0.00000        0.0       7.571219\n8073  25.800003 -100.000000  26.808594  ...    0.00000        0.0       3.610326\n[5 rows x 22 columns]\nMean Absolute Error (MAE): 1.0001386677219832\nMean Squared Error (MSE): 101.24869924656127\nRoot Mean Squared Error (RMSE): 10.06224126358344\nR-squared (R2) Score: 0.9899649579300693\nExplained Variance Score: 0.9900347973615327\nMean Squared Log Error (MSLE): 0.0003375186452348165\nMedian Absolute Error (MedAE): 0.011383476135253812\nMax Error: 117.76177954296872\n",
  "history_begin_time" : 1693599757786,
  "history_end_time" : 1693599768737,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "4p9GHOAlaASF",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n# final model path\nmodel_path = \"/groups/ESS3/zsun/fc_xgb_model.pkl\"\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf_filled = df.fillna(-9999)\n#df.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1,\n                     objective='reg:squarederror', \n                     scale_pos_weight=abs((len(y_train) - y_train.sum()) / y_train.sum()))\nmodel.fit(X_train, y_train)\n\n# Save the model to a file\nwith open(model_path, 'wb') as model_file:\n    pickle.dump(model, model_file)\n\nimport pickle\n\n# Load the saved model\nwith open(model_path, 'rb') as model_file:\n    loaded_model = pickle.load(model_file)\n    \n# Make predictions\ny_pred = model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\ny_test = y\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 87, in <module>\n    pickle.dump(model, model_file)\nNameError: name 'pickle' is not defined\n",
  "history_begin_time" : 1693599605420,
  "history_end_time" : 1693599614012,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "tmntr62ZFT9g",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n# final model path\nmodel_path = \"/groups/ESS3/zsun/fc_xgb_model.pkl\"\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf_filled = df.fillna(-9999)\n#df.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1,\n                     objective='reg:squarederror', \n                     scale_pos_weight=(len(y_train) - y_train.sum()) / y_train.sum())\nmodel.fit(X_train, y_train)\n\n# Save the model to a file\nwith open(model_path, 'wb') as model_file:\n    pickle.dump(model, model_file)\n\nimport pickle\n\n# Load the saved model\nwith open(model_path, 'rb') as model_file:\n    loaded_model = pickle.load(model_file)\n    \n# Make predictions\ny_pred = model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\ny_test = y\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 83, in <module>\n    model.fit(X_train, y_train)\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/core.py\", line 532, in inner_f\n    return f(**kwargs)\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/sklearn.py\", line 961, in fit\n    self._Booster = train(\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/core.py\", line 532, in inner_f\n    return f(**kwargs)\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/training.py\", line 181, in train\n    bst.update(dtrain, i, obj)\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/core.py\", line 1733, in update\n    _check_call(_LIB.XGBoosterUpdateOneIter(self.handle,\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/core.py\", line 203, in _check_call\n    raise XGBoostError(py_str(_LIB.XGBGetLastError()))\nxgboost.core.XGBoostError: value -0.976507 for Parameter scale_pos_weight should be greater equal to 0\nscale_pos_weight: Scale the weight of positive examples by this factor\n",
  "history_begin_time" : 1693599564243,
  "history_end_time" : 1693599571475,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "l17ITqZWaxGZ",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n# final model path\nmodel_path = \"/groups/ESS3/zsun/fc_xgb_model.pkl\"\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf_filled = df.fillna(-9999)\n#df.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1,\n                     objective='reg:squarederror', \n                     scale_pos_weight=(len(y) - y.sum()) / y.sum())\nmodel.fit(X_train, y_train)\n\n# Save the model to a file\nwith open(model_path, 'wb') as model_file:\n    pickle.dump(model, model_file)\n\nimport pickle\n\n# Load the saved model\nwith open(model_path, 'rb') as model_file:\n    loaded_model = pickle.load(model_file)\n    \n# Make predictions\ny_pred = model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\ny_test = y\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 83, in <module>\n    model.fit(X_train, y_train)\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/core.py\", line 532, in inner_f\n    return f(**kwargs)\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/sklearn.py\", line 961, in fit\n    self._Booster = train(\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/core.py\", line 532, in inner_f\n    return f(**kwargs)\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/training.py\", line 181, in train\n    bst.update(dtrain, i, obj)\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/core.py\", line 1733, in update\n    _check_call(_LIB.XGBoosterUpdateOneIter(self.handle,\n  File \"/home/zsun/anaconda3/lib/python3.8/site-packages/xgboost/core.py\", line 203, in _check_call\n    raise XGBoostError(py_str(_LIB.XGBGetLastError()))\nxgboost.core.XGBoostError: value -0.976112 for Parameter scale_pos_weight should be greater equal to 0\nscale_pos_weight: Scale the weight of positive examples by this factor\n",
  "history_begin_time" : 1693599505154,
  "history_end_time" : 1693599510479,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "6OcykqpC8sBF",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf_filled = df.fillna(-9999)\n#df.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\n#df = df[df[target_col] != 0]\n#print(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train, y_train)\n\n# Make predictions\ny_pred = model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\ny_test = y\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.03682909143764224\nMedian: 0.0\nStandard Deviation: 3.227510322570268\nMinimum: 0.0\nMaximum: 731.856323\nCount: 156861\ny_pred :  [1.5991085e-05 1.5991085e-05 1.5991085e-05 ... 1.5991085e-05 1.5991085e-05\n 1.5991085e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000016\n1       0.000016\n2       0.000016\n3       0.000016\n4       0.000016\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000016\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000016\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000016\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000016\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000016\n[5 rows x 22 columns]\nMean Absolute Error (MAE): 7.6118583684131e-05\nMean Squared Error (MSE): 0.00010621528629754241\nRoot Mean Squared Error (RMSE): 0.010306080064580442\nR-squared (R2) Score: 0.9999898034204256\nExplained Variance Score: 0.9999898034822254\nMean Squared Log Error (MSLE): 3.7454759367662684e-08\nMedian Absolute Error (MedAE): 1.5991085092537105e-05\nMax Error: 3.863708253906225\n",
  "history_begin_time" : 1693599175838,
  "history_end_time" : 1693599208899,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "CENch4KVVZib",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\nprint(\"original dataframe shape: \", df.shape)\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\n#df = df[df[target_col] != 0]\n#print(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train, y_train)\n\n# Make predictions\ny_pred = model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\noriginal dataframe shape:  (156861, 22)\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.03682909143764224\nMedian: 0.0\nStandard Deviation: 3.227510322570268\nMinimum: 0.0\nMaximum: 731.856323\nCount: 156861\ny_pred :  [1.5991085e-05 1.5991085e-05 1.5991085e-05 ... 1.5991085e-05 1.5991085e-05\n 1.5991085e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000016\n1       0.000016\n2       0.000016\n3       0.000016\n4       0.000016\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000016\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000016\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000016\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000016\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000016\n[5 rows x 22 columns]\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 104, in <module>\n    mae = mean_absolute_error(y_test, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 191, in mean_absolute_error\n    y_type, y_true, y_pred, multioutput = _check_reg_targets(\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 94, in _check_reg_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 332, in check_consistent_length\n    raise ValueError(\nValueError: Found input variables with inconsistent numbers of samples: [31373, 156861]\n",
  "history_begin_time" : 1693599035788,
  "history_end_time" : 1693599070007,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "kLF4AcSyXtUZ",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\n\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\n#print(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\n#df = df[df[target_col] != 0]\n#print(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this - should remove because we don't have a universal value range or pattern\n#scaler = StandardScaler()\n#X_train_scaled = scaler.fit_transform(X_train)\n#X_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train, y_train)\n\n# Make predictions\ny_pred = model.predict(X)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 0.03682909143764224\nMedian: 0.0\nStandard Deviation: 3.227510322570268\nMinimum: 0.0\nMaximum: 731.856323\nCount: 156861\ny_pred :  [1.5991085e-05 1.5991085e-05 1.5991085e-05 ... 1.5991085e-05 1.5991085e-05\n 1.5991085e-05]\nX_test shape:  (156861, 21)\ny_pred_df shape:  (156861, 1)\ny_pred_df head:     Predicted_FRP\n0       0.000016\n1       0.000016\n2       0.000016\n3       0.000016\n4       0.000016\nmerged_df shape:  (156861, 22)\nthe final merged df is:      LAT         LON    FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n0  24.5 -126.000000 -999.0  ...        0.0        0.0       0.000016\n1  24.5 -125.899994 -999.0  ...        0.0        0.0       0.000016\n2  24.5 -125.800003 -999.0  ...        0.0        0.0       0.000016\n3  24.5 -125.699997 -999.0  ...        0.0        0.0       0.000016\n4  24.5 -125.599998 -999.0  ...        0.0        0.0       0.000016\n[5 rows x 22 columns]\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 104, in <module>\n    mae = mean_absolute_error(y_test, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 191, in mean_absolute_error\n    y_type, y_true, y_pred, multioutput = _check_reg_targets(\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 94, in _check_reg_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 332, in check_consistent_length\n    raise ValueError(\nValueError: Found input variables with inconsistent numbers of samples: [31373, 156861]\n",
  "history_begin_time" : 1693598858407,
  "history_end_time" : 1693598879590,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "E8bd6LLahw81",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\n\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\nprint(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this\nscaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train_scaled, y_train)\n\n# Make predictions\ny_pred = model.predict(X_test_scaled)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nmerged_df = X\nmerged_df[\"Predicted_FRP\"] = y_pred\n\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 2:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\ny_pred :  [  5.750411    3.4428658   6.935663    7.5712194   3.6103258   4.359358\n  17.361698    9.249288   13.350521    4.9579773   4.6727233   7.200593\n   2.4686975  12.761629    5.372518    7.3124914   2.905925    4.105234\n   8.410271    1.5763526   4.017731  118.91731    23.940506    1.4254225\n   2.8746257  31.946026    0.7191087   5.868879   11.646985    1.2733331\n   3.0281806   4.209437    2.320392    4.0191035   3.8840106   3.8343613\n   2.08404     6.260135    3.5031548   6.279505   12.403731    2.944011\n   3.6103258  60.688812    0.7891621   2.6774533   3.6018133   9.0500145\n   2.877889   26.455431    5.6501203  62.5268     23.024193  115.56509\n   1.6074162  27.787767   73.93754   176.4098    140.63359   123.97153\n  34.689304   15.964964    2.903587    2.587468   20.109053   26.4534\n   3.0550563   1.5113226 430.14746     1.8261297   3.0438561   8.1538315\n   1.155203    2.4686975   4.825807  297.4329     58.274036    6.720624\n  21.814356    6.7596354  62.59446   112.27393    80.26682   284.9957\n  10.610872   37.817257    9.692357   82.9781    178.58493    78.37432\n   2.8656943  40.29097     9.203645    5.868879   91.37797   207.34773\n 631.46735     5.750411    3.274181    5.5909357  14.394641   79.160255\n  42.342545   24.827387   15.211548   53.595795   21.480776  254.18907\n   9.686026   18.981817   82.970894   14.398649    9.699011    2.308302\n  11.648357    1.6000409 614.09454    13.348906    2.308302    1.6257385\n   6.260257    8.152998    3.4495203   1.6074162   1.416349    2.6774533\n   7.5712194   7.2072473   2.903587  112.23197    24.969397   10.613546\n   1.8204931   3.6169803  12.403731    2.4686975   3.8376443  17.361698 ]\nX_test shape:  (138, 21)\ny_pred_df shape:  (138, 1)\ny_pred_df head:     Predicted_FRP\n0       5.750411\n1       3.442866\n2       6.935663\n3       7.571219\n4       3.610326\nmerged_df shape:  (138, 22)\nthe final merged df is:              LAT         LON        FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n1482  24.700005  -98.000000  43.746094  ...    0.00000        0.0       5.750411\n5057  25.300003 -101.099998  20.465820  ...    0.00000        0.0       3.442866\n5588  25.400002 -108.099998   0.308594  ...    1.61582        0.0       6.935663\n5671  25.400002  -99.799995  29.708984  ...    0.00000        0.0       7.571219\n8073  25.800003 -100.000000  26.808594  ...    0.00000        0.0       3.610326\n[5 rows x 22 columns]\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 104, in <module>\n    mae = mean_absolute_error(y_test, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 191, in mean_absolute_error\n    y_type, y_true, y_pred, multioutput = _check_reg_targets(\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 94, in _check_reg_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 332, in check_consistent_length\n    raise ValueError(\nValueError: Found input variables with inconsistent numbers of samples: [28, 138]\n",
  "history_begin_time" : 1693598643788,
  "history_end_time" : 1693598655318,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "f6nwEx6GdkW8",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\n\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\nprint(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this\nscaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train_scaled, y_train)\n\n# Make predictions\ny_pred = model.predict(X_test_scaled)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\n#merged_df = pd.concat([X, y_pred_df], axis=1)\nX[\"Predicted_FRP\"] = y_pred\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 2:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\ny_pred :  [  5.750411    3.4428658   6.935663    7.5712194   3.6103258   4.359358\n  17.361698    9.249288   13.350521    4.9579773   4.6727233   7.200593\n   2.4686975  12.761629    5.372518    7.3124914   2.905925    4.105234\n   8.410271    1.5763526   4.017731  118.91731    23.940506    1.4254225\n   2.8746257  31.946026    0.7191087   5.868879   11.646985    1.2733331\n   3.0281806   4.209437    2.320392    4.0191035   3.8840106   3.8343613\n   2.08404     6.260135    3.5031548   6.279505   12.403731    2.944011\n   3.6103258  60.688812    0.7891621   2.6774533   3.6018133   9.0500145\n   2.877889   26.455431    5.6501203  62.5268     23.024193  115.56509\n   1.6074162  27.787767   73.93754   176.4098    140.63359   123.97153\n  34.689304   15.964964    2.903587    2.587468   20.109053   26.4534\n   3.0550563   1.5113226 430.14746     1.8261297   3.0438561   8.1538315\n   1.155203    2.4686975   4.825807  297.4329     58.274036    6.720624\n  21.814356    6.7596354  62.59446   112.27393    80.26682   284.9957\n  10.610872   37.817257    9.692357   82.9781    178.58493    78.37432\n   2.8656943  40.29097     9.203645    5.868879   91.37797   207.34773\n 631.46735     5.750411    3.274181    5.5909357  14.394641   79.160255\n  42.342545   24.827387   15.211548   53.595795   21.480776  254.18907\n   9.686026   18.981817   82.970894   14.398649    9.699011    2.308302\n  11.648357    1.6000409 614.09454    13.348906    2.308302    1.6257385\n   6.260257    8.152998    3.4495203   1.6074162   1.416349    2.6774533\n   7.5712194   7.2072473   2.903587  112.23197    24.969397   10.613546\n   1.8204931   3.6169803  12.403731    2.4686975   3.8376443  17.361698 ]\nX_test shape:  (138, 21)\ny_pred_df shape:  (138, 1)\ny_pred_df head:     Predicted_FRP\n0       5.750411\n1       3.442866\n2       6.935663\n3       7.571219\n4       3.610326\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 96, in <module>\n    print(\"merged_df shape: \", merged_df.shape)\nNameError: name 'merged_df' is not defined\n",
  "history_begin_time" : 1693598625937,
  "history_end_time" : 1693598638032,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "WZMV1smAgFiw",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\n\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\nprint(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this\nscaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train_scaled, y_train)\n\n# Make predictions\ny_pred = model.predict(X_test_scaled)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\n#merged_df = X.join(y_pred_df)\nmerged_df = pd.concat([X, y_pred_df], axis=1)\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 2:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\ny_pred :  [  5.750411    3.4428658   6.935663    7.5712194   3.6103258   4.359358\n  17.361698    9.249288   13.350521    4.9579773   4.6727233   7.200593\n   2.4686975  12.761629    5.372518    7.3124914   2.905925    4.105234\n   8.410271    1.5763526   4.017731  118.91731    23.940506    1.4254225\n   2.8746257  31.946026    0.7191087   5.868879   11.646985    1.2733331\n   3.0281806   4.209437    2.320392    4.0191035   3.8840106   3.8343613\n   2.08404     6.260135    3.5031548   6.279505   12.403731    2.944011\n   3.6103258  60.688812    0.7891621   2.6774533   3.6018133   9.0500145\n   2.877889   26.455431    5.6501203  62.5268     23.024193  115.56509\n   1.6074162  27.787767   73.93754   176.4098    140.63359   123.97153\n  34.689304   15.964964    2.903587    2.587468   20.109053   26.4534\n   3.0550563   1.5113226 430.14746     1.8261297   3.0438561   8.1538315\n   1.155203    2.4686975   4.825807  297.4329     58.274036    6.720624\n  21.814356    6.7596354  62.59446   112.27393    80.26682   284.9957\n  10.610872   37.817257    9.692357   82.9781    178.58493    78.37432\n   2.8656943  40.29097     9.203645    5.868879   91.37797   207.34773\n 631.46735     5.750411    3.274181    5.5909357  14.394641   79.160255\n  42.342545   24.827387   15.211548   53.595795   21.480776  254.18907\n   9.686026   18.981817   82.970894   14.398649    9.699011    2.308302\n  11.648357    1.6000409 614.09454    13.348906    2.308302    1.6257385\n   6.260257    8.152998    3.4495203   1.6074162   1.416349    2.6774533\n   7.5712194   7.2072473   2.903587  112.23197    24.969397   10.613546\n   1.8204931   3.6169803  12.403731    2.4686975   3.8376443  17.361698 ]\nX_test shape:  (138, 21)\ny_pred_df shape:  (138, 1)\ny_pred_df head:     Predicted_FRP\n0       5.750411\n1       3.442866\n2       6.935663\n3       7.571219\n4       3.610326\nmerged_df shape:  (276, 22)\nthe final merged df is:              LAT         LON        FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n1482  24.700005  -98.000000  43.746094  ...    0.00000        0.0            NaN\n5057  25.300003 -101.099998  20.465820  ...    0.00000        0.0            NaN\n5588  25.400002 -108.099998   0.308594  ...    1.61582        0.0            NaN\n5671  25.400002  -99.799995  29.708984  ...    0.00000        0.0            NaN\n8073  25.800003 -100.000000  26.808594  ...    0.00000        0.0            NaN\n[5 rows x 22 columns]\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 101, in <module>\n    mae = mean_absolute_error(y_test, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 191, in mean_absolute_error\n    y_type, y_true, y_pred, multioutput = _check_reg_targets(\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 94, in _check_reg_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 332, in check_consistent_length\n    raise ValueError(\nValueError: Found input variables with inconsistent numbers of samples: [28, 138]\n",
  "history_begin_time" : 1693598568443,
  "history_end_time" : 1693598584234,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "mhK0LaAHthpY",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\n\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\nprint(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this\nscaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train_scaled, y_train)\n\n# Make predictions\ny_pred = model.predict(X_test_scaled)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\n\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nprint(\"y_pred_df head: \", y_pred_df.head())\n\nmerged_df = X.join(y_pred_df)\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 2:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\ny_pred :  [  5.750411    3.4428658   6.935663    7.5712194   3.6103258   4.359358\n  17.361698    9.249288   13.350521    4.9579773   4.6727233   7.200593\n   2.4686975  12.761629    5.372518    7.3124914   2.905925    4.105234\n   8.410271    1.5763526   4.017731  118.91731    23.940506    1.4254225\n   2.8746257  31.946026    0.7191087   5.868879   11.646985    1.2733331\n   3.0281806   4.209437    2.320392    4.0191035   3.8840106   3.8343613\n   2.08404     6.260135    3.5031548   6.279505   12.403731    2.944011\n   3.6103258  60.688812    0.7891621   2.6774533   3.6018133   9.0500145\n   2.877889   26.455431    5.6501203  62.5268     23.024193  115.56509\n   1.6074162  27.787767   73.93754   176.4098    140.63359   123.97153\n  34.689304   15.964964    2.903587    2.587468   20.109053   26.4534\n   3.0550563   1.5113226 430.14746     1.8261297   3.0438561   8.1538315\n   1.155203    2.4686975   4.825807  297.4329     58.274036    6.720624\n  21.814356    6.7596354  62.59446   112.27393    80.26682   284.9957\n  10.610872   37.817257    9.692357   82.9781    178.58493    78.37432\n   2.8656943  40.29097     9.203645    5.868879   91.37797   207.34773\n 631.46735     5.750411    3.274181    5.5909357  14.394641   79.160255\n  42.342545   24.827387   15.211548   53.595795   21.480776  254.18907\n   9.686026   18.981817   82.970894   14.398649    9.699011    2.308302\n  11.648357    1.6000409 614.09454    13.348906    2.308302    1.6257385\n   6.260257    8.152998    3.4495203   1.6074162   1.416349    2.6774533\n   7.5712194   7.2072473   2.903587  112.23197    24.969397   10.613546\n   1.8204931   3.6169803  12.403731    2.4686975   3.8376443  17.361698 ]\nX_test shape:  (138, 21)\ny_pred_df shape:  (138, 1)\ny_pred_df head:     Predicted_FRP\n0       5.750411\n1       3.442866\n2       6.935663\n3       7.571219\n4       3.610326\nmerged_df shape:  (138, 22)\nthe final merged df is:              LAT         LON        FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n1482  24.700005  -98.000000  43.746094  ...    0.00000        0.0            NaN\n5057  25.300003 -101.099998  20.465820  ...    0.00000        0.0            NaN\n5588  25.400002 -108.099998   0.308594  ...    1.61582        0.0            NaN\n5671  25.400002  -99.799995  29.708984  ...    0.00000        0.0            NaN\n8073  25.800003 -100.000000  26.808594  ...    0.00000        0.0            NaN\n[5 rows x 22 columns]\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 100, in <module>\n    mae = mean_absolute_error(y_test, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 191, in mean_absolute_error\n    y_type, y_true, y_pred, multioutput = _check_reg_targets(\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 94, in _check_reg_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 332, in check_consistent_length\n    raise ValueError(\nValueError: Found input variables with inconsistent numbers of samples: [28, 138]\n",
  "history_begin_time" : 1693598444414,
  "history_end_time" : 1693598457846,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "ox2fWbSLwOZU",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\n\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\nprint(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this\nscaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train_scaled, y_train)\n\n# Make predictions\ny_pred = model.predict(X_test_scaled)\ny_pred[y_pred < 0] = 0\n\nprint(\"y_pred : \", y_pred)\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nmerged_df = X.join(y_pred_df)\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 2:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\ny_pred :  [  5.750411    3.4428658   6.935663    7.5712194   3.6103258   4.359358\n  17.361698    9.249288   13.350521    4.9579773   4.6727233   7.200593\n   2.4686975  12.761629    5.372518    7.3124914   2.905925    4.105234\n   8.410271    1.5763526   4.017731  118.91731    23.940506    1.4254225\n   2.8746257  31.946026    0.7191087   5.868879   11.646985    1.2733331\n   3.0281806   4.209437    2.320392    4.0191035   3.8840106   3.8343613\n   2.08404     6.260135    3.5031548   6.279505   12.403731    2.944011\n   3.6103258  60.688812    0.7891621   2.6774533   3.6018133   9.0500145\n   2.877889   26.455431    5.6501203  62.5268     23.024193  115.56509\n   1.6074162  27.787767   73.93754   176.4098    140.63359   123.97153\n  34.689304   15.964964    2.903587    2.587468   20.109053   26.4534\n   3.0550563   1.5113226 430.14746     1.8261297   3.0438561   8.1538315\n   1.155203    2.4686975   4.825807  297.4329     58.274036    6.720624\n  21.814356    6.7596354  62.59446   112.27393    80.26682   284.9957\n  10.610872   37.817257    9.692357   82.9781    178.58493    78.37432\n   2.8656943  40.29097     9.203645    5.868879   91.37797   207.34773\n 631.46735     5.750411    3.274181    5.5909357  14.394641   79.160255\n  42.342545   24.827387   15.211548   53.595795   21.480776  254.18907\n   9.686026   18.981817   82.970894   14.398649    9.699011    2.308302\n  11.648357    1.6000409 614.09454    13.348906    2.308302    1.6257385\n   6.260257    8.152998    3.4495203   1.6074162   1.416349    2.6774533\n   7.5712194   7.2072473   2.903587  112.23197    24.969397   10.613546\n   1.8204931   3.6169803  12.403731    2.4686975   3.8376443  17.361698 ]\nX_test shape:  (138, 21)\ny_pred_df shape:  (138, 1)\nmerged_df shape:  (138, 22)\nthe final merged df is:              LAT         LON        FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n1482  24.700005  -98.000000  43.746094  ...    0.00000        0.0            NaN\n5057  25.300003 -101.099998  20.465820  ...    0.00000        0.0            NaN\n5588  25.400002 -108.099998   0.308594  ...    1.61582        0.0            NaN\n5671  25.400002  -99.799995  29.708984  ...    0.00000        0.0            NaN\n8073  25.800003 -100.000000  26.808594  ...    0.00000        0.0            NaN\n[5 rows x 22 columns]\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 97, in <module>\n    mae = mean_absolute_error(y_test, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 191, in mean_absolute_error\n    y_type, y_true, y_pred, multioutput = _check_reg_targets(\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 94, in _check_reg_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 332, in check_consistent_length\n    raise ValueError(\nValueError: Found input variables with inconsistent numbers of samples: [28, 138]\n",
  "history_begin_time" : 1693598359350,
  "history_end_time" : 1693598371340,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "RjGJUvDkMKvm",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\n\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\nprint(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this\nscaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train_scaled, y_train)\n\n# Make predictions\ny_pred = model.predict(X_test_scaled)\ny_pred[y_pred < 0] = 0\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred, columns=[\"Predicted_FRP\"])\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nmerged_df = X.join(y_pred_df)\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 2:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\nX_test shape:  (138, 21)\ny_pred_df shape:  (138, 1)\nmerged_df shape:  (138, 22)\nthe final merged df is:              LAT         LON        FWI  ...   FRP_day5   FRP_day6  Predicted_FRP\n1482  24.700005  -98.000000  43.746094  ...    0.00000        0.0            NaN\n5057  25.300003 -101.099998  20.465820  ...    0.00000        0.0            NaN\n5588  25.400002 -108.099998   0.308594  ...    1.61582        0.0            NaN\n5671  25.400002  -99.799995  29.708984  ...    0.00000        0.0            NaN\n8073  25.800003 -100.000000  26.808594  ...    0.00000        0.0            NaN\n[5 rows x 22 columns]\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 95, in <module>\n    mae = mean_absolute_error(y_test, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 191, in mean_absolute_error\n    y_type, y_true, y_pred, multioutput = _check_reg_targets(\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 94, in _check_reg_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 332, in check_consistent_length\n    raise ValueError(\nValueError: Found input variables with inconsistent numbers of samples: [28, 138]\n",
  "history_begin_time" : 1693598316362,
  "history_end_time" : 1693598329094,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "9jtYxAVZlPQ7",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\n\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\n#df = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\nprint(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this\nscaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train_scaled, y_train)\n\n# Make predictions\ny_pred = model.predict(X_test_scaled)\ny_pred[y_pred < 0] = 0\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X.shape)\ny_pred_df = pd.DataFrame(y_pred)\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nmerged_df = X.join(y_pred_df)\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 22)\nDF shape 1:  (156861, 22)\nDF shape 2:  (156861, 22)\nDF shape 3:  (138, 22)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' HT', ' T', ' RH', ' U', ' V',\n       ' P', ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1',\n       ' FRP_day2', ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\nX_test shape:  (138, 21)\ny_pred_df shape:  (138, 1)\nmerged_df shape:  (138, 22)\nthe final merged df is:              LAT         LON        FWI  ...   FRP_day5   FRP_day6   0\n1482  24.700005  -98.000000  43.746094  ...    0.00000        0.0 NaN\n5057  25.300003 -101.099998  20.465820  ...    0.00000        0.0 NaN\n5588  25.400002 -108.099998   0.308594  ...    1.61582        0.0 NaN\n5671  25.400002  -99.799995  29.708984  ...    0.00000        0.0 NaN\n8073  25.800003 -100.000000  26.808594  ...    0.00000        0.0 NaN\n[5 rows x 22 columns]\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 95, in <module>\n    mae = mean_absolute_error(y_test, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 191, in mean_absolute_error\n    y_type, y_true, y_pred, multioutput = _check_reg_targets(\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 94, in _check_reg_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 332, in check_consistent_length\n    raise ValueError(\nValueError: Found input variables with inconsistent numbers of samples: [28, 138]\n",
  "history_begin_time" : 1693598212896,
  "history_end_time" : 1693598226167,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "wEj5xGDne0bo",
  "history_input" : "# create a ML model for wildfire emission forecasting\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score, explained_variance_score\nfrom sklearn.metrics import mean_squared_log_error, median_absolute_error, max_error\nimport warnings\n\nfrom fc_train_data_preprocess import read_original_txt_files, get_one_day_time_series_training_data\n\n# Suppress the specific warning\nwarnings.filterwarnings(\"ignore\", message=\"DataFrame is highly fragmented\")\n\n\n# Assuming 'target' is the column to predict\ntarget_col = ' FRP'\nprint(\"target column is \", target_col)\n\nprint(\"reading the original txt files\")\n#df = read_original_txt_files(\"20210718\")\noriginal_df = get_one_day_time_series_training_data(\"20200831\")\ndf = original_df\n\nprint(\"df head:\", df.head())\n\nprint(\"Lag/Shift the data for previous days' information\")\nnum_previous_days = 7  # Adjust the number of previous days to consider\n#for i in range(1, num_previous_days + 1):\n#    for col in df.columns:\n#        df[f'{col}_lag_{i}'] = df[col].shift(i)\n\n# remove terrain temporarily\ndf = original_df.drop(' HT', axis=1)\nprint(\"DF shape 0: \", df.shape)\n\n# Drop rows with NaN values from the shifted columns\ndf.dropna(inplace=True)\nprint(\"DF shape 1: \", df.shape)\n\n# remove all rows with -999 in any column\n#df = df[~(df == -999).any(axis=1)]\nprint(\"DF shape 2: \", df.shape)\n\n# remove all rows with FRP == 0\ndf = df[df[target_col] != 0]\nprint(\"DF shape 3: \", df.shape)\n\n# Define features and target\nprint(\"current all columns: \", df.columns)\nX = df.drop([target_col], axis=1)\ny = df[target_col]\n\nprint(\"do some quick stats on FRP column\")\n# Print the statistics\nprint(f\"Mean: {y.mean()}\")\nprint(f\"Median: {y.median()}\")\nprint(f\"Standard Deviation: {y.std()}\")\nprint(f\"Minimum: {y.min()}\")\nprint(f\"Maximum: {y.max()}\")\nprint(f\"Count: {y.count()}\")\n\n\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=False)\n\n# Standardize the features - not sure about this\nscaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.transform(X)\n\n# Initialize and train a model (e.g., Linear Regression)\nmodel = XGBRegressor(n_estimators=100, max_depth=5, learning_rate=0.1)\nmodel.fit(X_train_scaled, y_train)\n\n# Make predictions\ny_pred = model.predict(X_test_scaled)\ny_pred[y_pred < 0] = 0\n\n# merge the input and output into one df\nprint(\"X_test shape: \", X_test.shape)\ny_pred_df = pd.DataFrame(y_pred)\nprint(\"y_pred_df shape: \", y_pred_df.shape)\nmerged_df = X_test.join(y_pred_df)\nprint(\"merged_df shape: \", merged_df.shape)\nprint(\"the final merged df is: \", merged_df.head())\n\n\n\n# Calculate metrics\nmae = mean_absolute_error(y_test, y_pred)\nmse = mean_squared_error(y_test, y_pred)\nrmse = mean_squared_error(y_test, y_pred, squared=False)\nr2 = r2_score(y_test, y_pred)\nexplained_var = explained_variance_score(y_test, y_pred)\nmsle = mean_squared_log_error(y_test, y_pred)\nmedae = median_absolute_error(y_test, y_pred)\nmax_err = max_error(y_test, y_pred)\n\n# Print the metrics\nprint(f\"Mean Absolute Error (MAE): {mae}\")\nprint(f\"Mean Squared Error (MSE): {mse}\")\nprint(f\"Root Mean Squared Error (RMSE): {rmse}\")\nprint(f\"R-squared (R2) Score: {r2}\")\nprint(f\"Explained Variance Score: {explained_var}\")\nprint(f\"Mean Squared Log Error (MSLE): {msle}\")\nprint(f\"Median Absolute Error (MedAE): {medae}\")\nprint(f\"Max Error: {max_err}\")\n\n",
  "history_output" : "target column is   FRP\nreading the original txt files\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200831\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200831.txt\n20200830\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200830.txt\n20200829\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200829.txt\n20200828\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200828.txt\n20200827\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200827.txt\n20200826\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200826.txt\n20200825\nReading data from file : /groups/ESS3/yli74/data/AI_Emis/firedata/firedata_20200825.txt\ndf head:     LAT         LON   FRP    FWI  ...   FRP_day3   FRP_day4   FRP_day5   FRP_day6\n0  24.5 -126.000000   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n1  24.5 -125.899994   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n2  24.5 -125.800003   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n3  24.5 -125.699997   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n4  24.5 -125.599998   0.0 -999.0  ...        0.0        0.0        0.0        0.0\n[5 rows x 22 columns]\nLag/Shift the data for previous days' information\nDF shape 0:  (156861, 21)\nDF shape 1:  (156861, 21)\nDF shape 2:  (156861, 21)\nDF shape 3:  (138, 21)\ncurrent all columns:  Index(['LAT', ' LON', ' FRP', ' FWI', ' VPD', ' T', ' RH', ' U', ' V', ' P',\n       ' RAIN', ' CAPE', ' ST', ' SM', ' FRP_day0', ' FRP_day1', ' FRP_day2',\n       ' FRP_day3', ' FRP_day4', ' FRP_day5', ' FRP_day6'],\n      dtype='object')\ndo some quick stats on FRP column\nMean: 41.86266747826087\nMedian: 7.4512645\nStandard Deviation: 100.81250055131753\nMinimum: 0.663446\nMaximum: 731.856323\nCount: 138\nX_test shape:  (28, 20)\ny_pred_df shape:  (138, 1)\nmerged_df shape:  (28, 21)\nthe final merged df is:               LAT         LON        FWI  ...   FRP_day5   FRP_day6   0\n94388  40.199997 -122.899994  50.840454  ...        0.0        0.0 NaN\n96914  40.600006 -110.699997  43.610882  ...        0.0        0.0 NaN\n96915  40.600006 -110.599998  45.627563  ...        0.0        0.0 NaN\n97125  40.600006  -89.599998  31.058390  ...        0.0        0.0 NaN\n97515  40.699997 -110.699997  49.625000  ...        0.0        0.0 NaN\n[5 rows x 21 columns]\nTraceback (most recent call last):\n  File \"fc_model_predict.py\", line 95, in <module>\n    mae = mean_absolute_error(y_test, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 191, in mean_absolute_error\n    y_type, y_true, y_pred, multioutput = _check_reg_targets(\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/metrics/_regression.py\", line 94, in _check_reg_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/home/zsun/.local/lib/python3.8/site-packages/sklearn/utils/validation.py\", line 332, in check_consistent_length\n    raise ValueError(\nValueError: Found input variables with inconsistent numbers of samples: [28, 138]\n",
  "history_begin_time" : 1693598158069,
  "history_end_time" : 1693598172349,
  "history_notes" : null,
  "history_process" : "wjq4fr",
  "host_id" : null,
  "indicator" : "Failed"
},]
